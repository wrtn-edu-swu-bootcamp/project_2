<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>밥심 - 서비스 프로토타입</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, #4CAF50 0%, #81C784 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 500px;
            width: 100%;
            overflow: hidden;
            max-height: 90vh;
            overflow-y: auto;
        }

        .header {
            background: linear-gradient(135deg, #4CAF50 0%, #81C784 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 14px;
        }

        .content {
            padding: 30px;
        }

        .screen {
            display: none;
        }

        .screen.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .progress-bar {
            height: 4px;
            background: #e0e0e0;
            border-radius: 2px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50 0%, #81C784 100%);
            transition: width 0.3s ease;
        }

        .question {
            margin-bottom: 30px;
        }

        .question h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .question-num {
            color: #4CAF50;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .options {
            display: grid;
            gap: 10px;
        }

        .option-btn {
            background: #f5f5f5;
            border: 2px solid transparent;
            padding: 15px 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-size: 15px;
        }

        .option-btn:hover {
            background: #e8f5e9;
            transform: translateX(5px);
        }

        .option-btn.selected {
            background: #e8f5e9;
            border-color: #4CAF50;
            color: #2E7D32;
        }

        .btn {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #4CAF50 0%, #81C784 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(76, 175, 80, 0.3);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .nutrition-alert {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 14px;
            color: #856404;
        }

        .nutrition-alert strong {
            display: block;
            margin-bottom: 5px;
            color: #856404;
        }

        .health-score {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            background: #4CAF50;
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 13px;
            font-weight: bold;
        }

        .health-score.medium {
            background: #FFA726;
        }

        .health-score.low {
            background: #FF7043;
        }

        .menu-card {
            background: #f9f9f9;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
        }

        .menu-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border-color: #4CAF50;
        }

        .menu-card h4 {
            color: #333;
            margin-bottom: 8px;
            font-size: 18px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .menu-card p {
            color: #666;
            font-size: 14px;
            margin-bottom: 12px;
        }

        .recommendation-reason {
            background: #e8f5e9;
            padding: 10px 15px;
            border-radius: 8px;
            margin-bottom: 12px;
            font-size: 13px;
            color: #2E7D32;
            border-left: 3px solid #4CAF50;
        }

        .menu-meta {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            font-size: 13px;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 5px;
            color: #888;
        }

        .tag {
            display: inline-block;
            background: #4CAF50;
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            margin-right: 5px;
        }

        .detail-section {
            margin-bottom: 25px;
        }

        .detail-section h4 {
            color: #333;
            margin-bottom: 15px;
            font-size: 16px;
            padding-bottom: 10px;
            border-bottom: 2px solid #f0f0f0;
        }

        .ingredient-list {
            list-style: none;
        }

        .ingredient-list li {
            padding: 8px 0;
            padding-left: 20px;
            position: relative;
        }

        .ingredient-list li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: #4CAF50;
        }

        .step-list {
            list-style: none;
            counter-reset: step-counter;
        }

        .step-list li {
            padding: 12px 0;
            padding-left: 35px;
            position: relative;
            counter-increment: step-counter;
        }

        .step-list li:before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            background: #4CAF50;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        .nutrition-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .nutrition-item {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .nutrition-item .value {
            font-size: 24px;
            font-weight: bold;
            color: #4CAF50;
            margin-bottom: 5px;
        }

        .nutrition-item .label {
            font-size: 14px;
            color: #666;
        }

        .loading {
            text-align: center;
            padding: 40px 0;
        }

        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #4CAF50;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            color: #555;
            font-size: 14px;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
        }

        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: #4CAF50;
        }

        .input-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .video-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: #4CAF50;
            color: white;
            padding: 12px 20px;
            border-radius: 10px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .video-link:hover {
            background: #45a049;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }

        .bmi-info {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #2196F3;
        }

        .bmi-info strong {
            color: #1976D2;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🍚 밥심</h1>
            <p>당신의 영양 균형을 위한 스마트 식단 추천</p>
        </div>

        <div class="content">
            <!-- Welcome Screen -->
            <div id="welcome" class="screen active">
                <h2 style="margin-bottom: 15px;">환영합니다!</h2>
                <p style="color: #666; line-height: 1.6; margin-bottom: 30px;">
                    당신의 몸 상태와 목표를 분석해서<br>
                    <strong style="color: #4CAF50;">영양학적으로 균형잡힌 식단</strong>을 추천해드릴게요.
                </p>
                <button class="btn btn-primary" onclick="startQuestions()">시작하기</button>
            </div>

            <!-- Question 0: 기본 정보 -->
            <div id="q0" class="screen">
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 16%"></div>
                </div>
                <div class="question">
                    <div class="question-num">필수 질문 1/6</div>
                    <h3>기본 정보를 입력해주세요</h3>
                    <p style="color: #666; font-size: 13px; margin-bottom: 15px;">
                        적정 칼로리와 필요 영양소를 계산합니다
                    </p>
                    <div class="input-group">
                        <label>성별</label>
                        <select id="genderSelect" onchange="enableNextBtn('nextBtn0')">
                            <option value="">선택해주세요</option>
                            <option value="male">남성</option>
                            <option value="female">여성</option>
                        </select>
                    </div>
                    <div class="input-row">
                        <div class="input-group">
                            <label>키 (cm)</label>
                            <input type="number" id="heightInput" placeholder="170" onkeyup="enableNextBtn('nextBtn0')">
                        </div>
                        <div class="input-group">
                            <label>몸무게 (kg)</label>
                            <input type="number" id="weightInput" placeholder="65" onkeyup="enableNextBtn('nextBtn0')">
                        </div>
                    </div>
                </div>
                <button class="btn btn-primary" id="nextBtn0" disabled onclick="nextScreen('q1')">다음</button>
            </div>

            <!-- Question 1: 식사 시간대 -->
            <div id="q1" class="screen">
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 33%"></div>
                </div>
                <div class="question">
                    <div class="question-num">필수 질문 2/6</div>
                    <h3>언제 드실 식사인가요?</h3>
                    <div class="options">
                        <button class="option-btn" onclick="selectOption(this, 'mealTime', '아침')">
                            🌅 아침<br>
                            <small style="color: #999;">400-500kcal, 가벼운 단백질</small>
                        </button>
                        <button class="option-btn" onclick="selectOption(this, 'mealTime', '점심')">
                            ☀️ 점심<br>
                            <small style="color: #999;">600-800kcal, 든든한 에너지</small>
                        </button>
                        <button class="option-btn" onclick="selectOption(this, 'mealTime', '저녁')">
                            🌙 저녁<br>
                            <small style="color: #999;">500-700kcal, 소화 잘되는 식사</small>
                        </button>
                    </div>
                </div>
                <button class="btn btn-primary" id="nextBtn1" disabled onclick="nextScreen('q2')">다음</button>
            </div>

            <!-- Question 2: 조리 가능 여부 -->
            <div id="q2" class="screen">
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 50%"></div>
                </div>
                <div class="question">
                    <div class="question-num">필수 질문 3/6</div>
                    <h3>오늘 요리 준비, 어느 정도 가능하신가요?</h3>
                    <div class="options">
                        <button class="option-btn" onclick="selectOption(this, 'cooking', '전자레인지')">
                            📱 전자레인지만<br>
                            <small style="color: #999;">데우기만 하면 OK</small>
                        </button>
                        <button class="option-btn" onclick="selectOption(this, 'cooking', '10분')">
                            ⚡ 10분 이내 간단 조리<br>
                            <small style="color: #999;">계란 프라이, 샐러드 정도</small>
                        </button>
                        <button class="option-btn" onclick="selectOption(this, 'cooking', '20분')">
                            👨‍🍳 20분 이내 기본 조리<br>
                            <small style="color: #999;">볶고 끓이는 정도</small>
                        </button>
                        <button class="option-btn" onclick="selectOption(this, 'cooking', '30분')">
                            🔥 30분 이상 본격 조리<br>
                            <small style="color: #999;">시간 여유 있어요</small>
                        </button>
                    </div>
                </div>
                <button class="btn btn-primary" id="nextBtn2" disabled onclick="nextScreen('q3')">다음</button>
            </div>

            <!-- Question 3: 예산 -->
            <div id="q3" class="screen">
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 66%"></div>
                </div>
                <div class="question">
                    <div class="question-num">필수 질문 4/6</div>
                    <h3>한 끼에 얼마까지 쓸 수 있으세요?</h3>
                    <div class="options">
                        <button class="option-btn" onclick="selectOption(this, 'budget', '3000')">
                            💰 3,000원 이하
                        </button>
                        <button class="option-btn" onclick="selectOption(this, 'budget', '5000')">
                            💵 3,000원 - 5,000원
                        </button>
                        <button class="option-btn" onclick="selectOption(this, 'budget', '8000')">
                            💳 5,000원 - 8,000원
                        </button>
                        <button class="option-btn" onclick="selectOption(this, 'budget', '15000')">
                            💎 8,000원 이상
                        </button>
                    </div>
                </div>
                <button class="btn btn-primary" id="nextBtn3" disabled onclick="nextScreen('q4')">다음</button>
            </div>

            <!-- Question 4: 기피 식재료 -->
            <div id="q4" class="screen">
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 83%"></div>
                </div>
                <div class="question">
                    <div class="question-num">필수 질문 5/6</div>
                    <h3>못 먹거나 싫어하는 재료가 있나요?</h3>
                    <div class="input-group">
                        <input type="text" placeholder="예: 새우, 버섯, 파, 계란 등 (없으면 비워두세요)" id="avoidInput">
                    </div>
                </div>
                <button class="btn btn-primary" onclick="nextScreen('loading')">추천받기</button>
            </div>

            <!-- Loading -->
            <div id="loading" class="screen">
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <h3 style="color: #333; margin-bottom: 10px;">영양을 분석하고 있어요...</h3>
                    <p style="color: #999;">잠시만 기다려주세요 ✨</p>
                </div>
            </div>

            <!-- Results -->
            <div id="results" class="screen">
                <div id="userAnalysis"></div>
                <h3 style="margin-bottom: 20px;">당신을 위한 건강한 식단</h3>
                <div id="menuContainer"></div>
                <button class="btn btn-primary" style="margin-top: 20px;" onclick="restart()">다시 추천받기</button>
            </div>

            <!-- Detail View -->
            <div id="detail" class="screen">
                <div id="detailContent"></div>
                <button class="btn btn-primary" onclick="backToResults()">다른 메뉴 보기</button>
            </div>
        </div>
    </div>

    <script>
        // 건강한 메뉴 데이터베이스 (50개 이상)
        const menuDatabase = [
            // === 고단백 건강식 (영양 점수 80-95) ===
            {
                id: 1,
                name: "닭가슴살 샐러드",
                description: "고단백 저지방 다이어트 최적",
                time: 10,
                difficulty: "쉬움",
                calories: 280,
                protein: 35,
                carbs: 18,
                fat: 6,
                cost: 5500,
                healthScore: 95,
                tags: ["고단백", "다이어트", "채소풍부"],
                reason: "단백질 35g으로 근육 생성에 최적이며, 저지방으로 체중 관리에 효과적입니다.",
                ingredients: ["닭가슴살 150g", "양상추", "토마토", "오이", "올리브오일", "레몬"],
                steps: [
                    "닭가슴살을 삶거나 구워줍니다 (7분)",
                    "채소를 씻어 한입 크기로 자릅니다",
                    "접시에 채소를 담고 닭가슴살을 올립니다",
                    "올리브오일과 레몬즙을 뿌려 완성!"
                ],
                tips: ["닭가슴살은 전자레인지에 익혀도 OK", "올리브오일은 소량만 사용하세요"],
                videoSearch: "닭가슴살샐러드+만들기",
                benefits: ["고단백 35g으로 근육 생성", "저지방 저칼로리", "각종 비타민 풍부"]
            },
            {
                id: 2,
                name: "연어 샐러드",
                description: "오메가3 풍부한 프리미엄 건강식",
                time: 12,
                difficulty: "쉬움",
                calories: 380,
                protein: 30,
                carbs: 22,
                fat: 18,
                cost: 9000,
                healthScore: 92,
                tags: ["오메가3", "고단백", "항염"],
                reason: "연어의 오메가3가 심혈관 건강에 좋고, 양질의 단백질로 영양 균형이 완벽합니다.",
                ingredients: ["연어 120g", "시금치", "아보카도", "견과류", "발사믹 드레싱"],
                steps: [
                    "연어를 팬에 구워줍니다 (5분)",
                    "시금치와 아보카도를 준비합니다",
                    "접시에 담고 견과류를 뿌립니다",
                    "드레싱을 곁들여 완성!"
                ],
                tips: ["연어는 겉은 바삭, 속은 촉촉하게", "아보카도는 신선한 것으로"],
                videoSearch: "연어샐러드+만들기",
                benefits: ["오메가3로 심혈관 건강", "항염 효과", "두뇌 건강 증진"]
            },
            {
                id: 3,
                name: "두부스테이크 샐러드",
                description: "식물성 단백질 풍부한 비건 메뉴",
                time: 15,
                difficulty: "보통",
                calories: 320,
                protein: 22,
                carbs: 28,
                fat: 12,
                cost: 4000,
                healthScore: 90,
                tags: ["비건", "식물성단백질", "저칼로리"],
                reason: "두부의 이소플라본이 호르몬 균형을 돕고, 완전한 식물성 단백질을 제공합니다.",
                ingredients: ["두부 1모", "브로콜리", "파프리카", "간장", "마늘", "올리브오일"],
                steps: [
                    "두부를 1cm 두께로 자릅니다",
                    "팬에 올리브오일을 두르고 두부를 굽습니다 (5분)",
                    "채소를 데치거나 볶습니다 (3분)",
                    "간장 소스를 뿌려 완성!"
                ],
                tips: ["두부는 물기를 꼭 제거하세요", "센 불에서 빠르게 구워야 바삭해요"],
                videoSearch: "두부스테이크+만들기",
                benefits: ["식물성 단백질 22g", "이소플라본으로 호르몬 균형", "저칼로리 비건식"]
            },
            {
                id: 4,
                name: "참치 통곡물 샌드위치",
                description: "통곡물로 포만감 높은 건강 간편식",
                time: 8,
                difficulty: "매우쉬움",
                calories: 420,
                protein: 28,
                carbs: 45,
                fat: 12,
                cost: 4500,
                healthScore: 88,
                tags: ["통곡물", "오메가3", "간편식"],
                reason: "참치의 EPA/DHA와 통곡물의 식이섬유로 포만감이 오래 지속되며 영양 균형이 좋습니다.",
                ingredients: ["통곡물빵", "참치캔", "양상추", "토마토", "요거트 소스"],
                steps: [
                    "참치와 요거트를 섞어 참치 소스를 만듭니다",
                    "빵에 채소를 깔고 참치 소스를 올립니다",
                    "빵을 덮어 완성!"
                ],
                tips: ["참치 기름은 빼주세요", "통곡물빵이 핵심입니다"],
                videoSearch: "참치샌드위치+건강하게+만들기",
                benefits: ["통곡물로 식이섬유 풍부", "오메가3 섭취", "빠른 조리"]
            },
            {
                id: 5,
                name: "계란 아보카도 토스트",
                description: "완전식품 계란과 건강한 지방",
                time: 10,
                difficulty: "쉬움",
                calories: 380,
                protein: 18,
                carbs: 38,
                fat: 16,
                cost: 4000,
                healthScore: 87,
                tags: ["완전식품", "건강한지방", "간편"],
                reason: "계란의 필수 아미노산과 아보카도의 불포화지방산으로 영양 균형이 완벽합니다.",
                ingredients: ["계란 2개", "아보카도", "통곡물빵", "방울토마토", "올리브오일"],
                steps: [
                    "계란을 삶거나 프라이로 만듭니다 (5분)",
                    "아보카도를 으깨줍니다",
                    "빵을 구워 아보카도를 바릅니다",
                    "계란과 토마토를 올려 완성!"
                ],
                tips: ["아보카도는 레몬즙을 넣으면 색이 변하지 않아요", "계란은 반숙이 맛있어요"],
                videoSearch: "아보카도토스트+만들기",
                benefits: ["필수 아미노산 완벽 섭취", "건강한 불포화지방", "비타민 E 풍부"]
            },

            // === 채소 풍부 건강식 (영양 점수 75-90) ===
            {
                id: 6,
                name: "채소 듬뿍 비빔밥",
                description: "5가지 채소로 영양 균형 완벽",
                time: 20,
                difficulty: "보통",
                calories: 480,
                protein: 15,
                carbs: 72,
                fat: 12,
                cost: 5000,
                healthScore: 85,
                tags: ["채소풍부", "영양균형", "한식"],
                reason: "5가지 이상의 채소로 비타민과 미네랄을 골고루 섭취하며, 낮은 지방 함량으로 건강합니다.",
                ingredients: ["현미밥", "시금치", "콩나물", "당근", "버섯", "고추장", "참기름"],
                steps: [
                    "각 나물을 데치거나 볶습니다 (10분)",
                    "현미밥 위에 나물을 예쁘게 배치합니다",
                    "고추장과 참기름을 넣어 비벼 먹습니다!"
                ],
                tips: ["나물은 한 번에 많이 만들어 냉장 보관하세요", "현미밥으로 식이섬유 UP"],
                videoSearch: "건강한+비빔밥+만들기",
                benefits: ["5가지 채소로 영양 균형", "비타민과 미네랄 풍부", "식이섬유로 포만감"]
            },
            {
                id: 7,
                name: "브로콜리 닭가슴살 볶음",
                description: "고단백 저지방 다이어트 메뉴",
                time: 15,
                difficulty: "쉬움",
                calories: 320,
                protein: 32,
                carbs: 18,
                fat: 10,
                cost: 5000,
                healthScore: 90,
                tags: ["고단백", "저지방", "채소"],
                reason: "브로콜리의 설포라판이 항암 효과가 있고, 닭가슴살로 고단백을 섭취합니다.",
                ingredients: ["닭가슴살 150g", "브로콜리", "파프리카", "마늘", "올리브오일", "간장"],
                steps: [
                    "닭가슴살을 한입 크기로 자릅니다",
                    "팬에 마늘을 볶고 닭가슴살을 넣습니다 (7분)",
                    "브로콜리와 파프리카를 넣고 볶습니다 (5분)",
                    "간장으로 간해 완성!"
                ],
                tips: ["브로콜리는 너무 익히면 영양소가 파괴돼요", "센 불에서 빠르게 볶으세요"],
                videoSearch: "브로콜리+닭가슴살+볶음",
                benefits: ["설포라판의 항암 효과", "고단백 32g", "저지방 다이어트식"]
            },
            {
                id: 8,
                name: "채소 듬뿍 두부찌개",
                description: "저칼로리 고영양 국물 요리",
                time: 20,
                difficulty: "쉬움",
                calories: 280,
                protein: 18,
                carbs: 22,
                fat: 10,
                cost: 4000,
                healthScore: 83,
                tags: ["저칼로리", "단백질", "채소"],
                reason: "두부의 양질의 단백질과 다양한 채소로 영양을 보충하며 저칼로리입니다.",
                ingredients: ["두부", "애호박", "양파", "버섯", "대파", "된장", "멸치육수"],
                steps: [
                    "멸치로 육수를 냅니다 (5분)",
                    "된장을 풀고 채소를 넣습니다 (10분)",
                    "두부를 넣고 한소끔 끓입니다 (3분)"
                ],
                tips: ["된장은 체에 거르면 부드러워요", "채소는 다양하게 넣을수록 좋아요"],
                videoSearch: "채소두부찌개+만들기",
                benefits: ["저칼로리 280kcal", "다양한 채소 섭취", "단백질 18g"]
            },

            // === 통곡물 건강식 (영양 점수 75-85) ===
            {
                id: 9,
                name: "현미 김치볶음밥",
                description: "통곡물로 식이섬유 풍부",
                time: 12,
                difficulty: "쉬움",
                calories: 450,
                protein: 12,
                carbs: 68,
                fat: 12,
                cost: 3000,
                healthScore: 78,
                tags: ["통곡물", "유산균", "간편"],
                reason: "현미의 식이섬유와 김치의 유산균이 장 건강을 개선하며, 백미보다 영양가가 높습니다.",
                ingredients: ["현미밥", "김치", "양파", "대파", "참기름", "김가루"],
                steps: [
                    "팬에 김치를 먼저 볶습니다 (3분)",
                    "현미밥을 넣고 볶습니다 (7분)",
                    "참기름과 김가루를 넣어 완성!"
                ],
                tips: ["현미밥은 물을 조금 뿌려 부드럽게", "김치는 작게 썰어 볶으세요"],
                videoSearch: "현미볶음밥+만들기",
                benefits: ["식이섬유로 장 건강", "유산균 섭취", "백미보다 영양가 높음"]
            },
            {
                id: 10,
                name: "귀리 야채 죽",
                description: "소화 잘되는 건강 한 끼",
                time: 15,
                difficulty: "쉬움",
                calories: 320,
                protein: 10,
                carbs: 52,
                fat: 8,
                cost: 3500,
                healthScore: 82,
                tags: ["통곡물", "소화", "저자극"],
                reason: "귀리의 베타글루칸이 콜레스테롤을 낮추고, 소화가 잘되어 속이 편안합니다.",
                ingredients: ["귀리", "당근", "브로콜리", "양파", "채소육수"],
                steps: [
                    "채소를 잘게 썰어 줍니다",
                    "육수에 귀리와 채소를 넣고 끓입니다 (12분)",
                    "소금으로 간해 완성!"
                ],
                tips: ["귀리는 미리 물에 불리면 더 빨리 익어요", "채소는 다양하게 넣으세요"],
                videoSearch: "귀리죽+만들기",
                benefits: ["베타글루칸으로 콜레스테롤 감소", "소화 잘됨", "포만감 오래 지속"]
            },

            // === 건강한 국물 요리 (영양 점수 70-85) ===
            {
                id: 11,
                name: "닭가슴살 채소 수프",
                description: "서양식 건강 국물 요리",
                time: 25,
                difficulty: "보통",
                calories: 280,
                protein: 28,
                carbs: 22,
                fat: 8,
                cost: 5500,
                healthScore: 86,
                tags: ["고단백", "저칼로리", "채소"],
                reason: "닭가슴살의 고단백과 다양한 채소의 영양소가 조화롭게 어우러진 건강식입니다.",
                ingredients: ["닭가슴살", "당근", "양파", "셀러리", "감자", "토마토", "월계수잎"],
                steps: [
                    "닭가슴살을 삶아 육수를 만듭니다 (10분)",
                    "채소를 썰어 육수에 넣습니다 (10분)",
                    "월계수잎과 소금으로 간해 완성!"
                ],
                tips: ["닭가슴살은 푹 삶아 육수를 진하게", "채소는 크게 썰어야 식감이 살아요"],
                videoSearch: "닭가슴살+수프+만들기",
                benefits: ["고단백 28g", "저칼로리 280kcal", "다양한 채소 섭취"]
            },
            {
                id: 12,
                name: "참치 김치찌개",
                description: "얼큰하고 건강한 한식",
                time: 15,
                difficulty: "쉬움",
                calories: 320,
                protein: 25,
                carbs: 28,
                fat: 10,
                cost: 4000,
                healthScore: 80,
                tags: ["오메가3", "유산균", "단백질"],
                reason: "참치의 EPA/DHA와 김치의 유산균이 만나 영양과 맛을 동시에 잡은 메뉴입니다.",
                ingredients: ["참치캔", "김치", "두부", "대파", "고춧가루", "된장"],
                steps: [
                    "냄비에 김치와 참치를 넣고 볶습니다 (3분)",
                    "물을 넣고 끓입니다 (5분)",
                    "두부와 대파를 넣고 더 끓입니다 (5분)"
                ],
                tips: ["참치 기름도 함께 넣으면 더 고소해요", "두부는 마지막에 넣으세요"],
                videoSearch: "참치김치찌개+만들기",
                benefits: ["오메가3로 두뇌 건강", "유산균으로 장 건강", "단백질 25g"]
            },

            // === 건강한 간편식 (영양 점수 65-80) ===
            {
                id: 13,
                name: "그릭 요거트 과일 볼",
                description: "단백질 풍부한 건강 간식",
                time: 5,
                difficulty: "매우쉬움",
                calories: 280,
                protein: 18,
                carbs: 35,
                fat: 6,
                cost: 4500,
                healthScore: 85,
                tags: ["단백질", "과일", "초간단"],
                reason: "그릭 요거트의 프로바이오틱스와 과일의 비타민으로 장 건강과 면역력을 높입니다.",
                ingredients: ["그릭 요거트", "블루베리", "바나나", "꿀", "그래놀라"],
                steps: [
                    "그릭 요거트를 볼에 담습니다",
                    "과일을 씻어 올립니다",
                    "그래놀라와 꿀을 뿌려 완성!"
                ],
                tips: ["그릭 요거트는 일반 요거트보다 단백질이 2배", "계절 과일을 활용하세요"],
                videoSearch: "그릭요거트+볼+만들기",
                benefits: ["프로바이오틱스로 장 건강", "단백질 18g", "각종 비타민 섭취"]
            },
            {
                id: 14,
                name: "연어 주먹밥",
                description: "오메가3 풍부한 간편식",
                time: 10,
                difficulty: "쉬움",
                calories: 380,
                protein: 22,
                carbs: 48,
                fat: 12,
                cost: 7000,
                healthScore: 82,
                tags: ["오메가3", "간편", "한끼"],
                reason: "연어의 오메가3와 밥의 탄수화물이 균형잡힌 한 끼 식사를 제공합니다.",
                ingredients: ["현미밥", "구운 연어", "김", "참기름", "깨소금"],
                steps: [
                    "연어를 구워 잘게 부숩니다 (5분)",
                    "밥에 연어와 참기름을 섞습니다",
                    "주먹밥을 만들고 김을 감아 완성!"
                ],
                tips: ["연어는 미리 구워두면 편해요", "현미밥으로 영양 UP"],
                videoSearch: "연어+주먹밥+만들기",
                benefits: ["오메가3 풍부", "간편한 한 끼", "영양 균형"]
            },
            {
                id: 15,
                name: "채소 계란 스크램블",
                description: "단백질과 채소를 한 번에",
                time: 8,
                difficulty: "쉬움",
                calories: 280,
                protein: 18,
                carbs: 12,
                fat: 16,
                cost: 3500,
                healthScore: 82,
                tags: ["단백질", "채소", "간편"],
                reason: "계란의 완전 단백질과 다양한 채소로 아침 식사에 최적입니다.",
                ingredients: ["계란 3개", "파프리카", "양파", "시금치", "올리브오일"],
                steps: [
                    "채소를 잘게 썰어 줍니다",
                    "팬에 올리브오일을 두르고 채소를 볶습니다 (3분)",
                    "계란을 풀어 넣고 스크램블을 만듭니다 (3분)"
                ],
                tips: ["약한 불에서 천천히 저어가며 익히세요", "채소는 다양하게 넣을수록 좋아요"],
                videoSearch: "채소+스크램블+만들기",
                benefits: ["완전 단백질 18g", "다양한 채소 섭취", "빠른 조리"]
            },

            // === 건강 개선 메뉴 추가 (20개 더) ===
            {
                id: 16,
                name: "현미 새우 리조또",
                description: "이탈리안 스타일 건강식",
                time: 25,
                difficulty: "보통",
                calories: 420,
                protein: 24,
                carbs: 55,
                fat: 12,
                cost: 8000,
                healthScore: 83,
                tags: ["고단백", "통곡물", "타우린"],
                reason: "새우의 타우린과 현미의 식이섬유가 만나 영양과 맛을 동시에 잡았습니다.",
                ingredients: ["현미", "새우", "양파", "마늘", "파르메산치즈", "채소육수"],
                steps: [
                    "양파와 마늘을 볶습니다 (2분)",
                    "현미를 넣고 육수를 조금씩 부어가며 저어줍니다 (15분)",
                    "새우를 넣고 익힙니다 (5분)",
                    "치즈를 갈아 넣어 완성!"
                ],
                tips: ["육수는 따뜻하게 준비하세요", "저어주는 것이 핵심입니다"],
                videoSearch: "새우+리조또+건강하게",
                benefits: ["타우린으로 간 기능", "식이섬유 풍부", "고단백 24g"]
            },
            {
                id: 17,
                name: "두부 스테이크 덮밥",
                description: "식물성 단백질 가득",
                time: 15,
                difficulty: "쉬움",
                calories: 420,
                protein: 20,
                carbs: 58,
                fat: 12,
                cost: 4500,
                healthScore: 81,
                tags: ["비건", "식물성단백질", "저지방"],
                reason: "두부로 충분한 단백질을 섭취하며, 저지방으로 건강한 한 끼입니다.",
                ingredients: ["두부", "현미밥", "브로콜리", "간장", "참기름", "통깨"],
                steps: [
                    "두부를 두껍게 자르고 팬에 굽습니다 (7분)",
                    "브로콜리를 데칩니다 (3분)",
                    "밥 위에 두부와 브로콜리를 올립니다",
                    "간장 소스를 뿌려 완성!"
                ],
                tips: ["두부는 물기를 완전히 제거하세요", "센 불에서 바삭하게 구우세요"],
                videoSearch: "두부스테이크+덮밥",
                benefits: ["식물성 단백질 20g", "저지방 건강식", "비건 친화"]
            },
            {
                id: 18,
                name: "연어 아보카도 포케",
                description: "하와이안 스타일 건강 볼",
                time: 12,
                difficulty: "쉬움",
                calories: 480,
                protein: 28,
                carbs: 48,
                fat: 18,
                cost: 10000,
                healthScore: 90,
                tags: ["오메가3", "건강한지방", "프리미엄"],
                reason: "연어의 오메가3와 아보카도의 불포화지방산으로 심혈관 건강에 최고입니다.",
                ingredients: ["연어(회용)", "아보카도", "현미밥", "오이", "간장", "와사비"],
                steps: [
                    "연어를 큐브 모양으로 자릅니다",
                    "아보카도와 오이를 썰어줍니다",
                    "밥 위에 재료를 올립니다",
                    "간장 소스를 뿌려 완성!"
                ],
                tips: ["연어는 신선한 회용으로", "아보카도는 먹기 직전에 자르세요"],
                videoSearch: "포케+만들기",
                benefits: ["오메가3 최고", "건강한 지방", "고단백 28g"]
            },
            {
                id: 19,
                name: "퀴노아 샐러드 볼",
                description: "슈퍼푸드 퀴노아로 영양 충전",
                time: 18,
                difficulty: "쉬움",
                calories: 380,
                protein: 16,
                carbs: 52,
                fat: 10,
                cost: 5500,
                healthScore: 88,
                tags: ["슈퍼푸드", "완전식품", "채소풍부"],
                reason: "퀴노아는 9가지 필수 아미노산을 모두 함유한 완전 식품입니다.",
                ingredients: ["퀴노아", "병아리콩", "방울토마토", "오이", "레몬", "올리브오일"],
                steps: [
                    "퀴노아를 삶습니다 (15분)",
                    "채소를 썰어 준비합니다",
                    "모든 재료를 섞습니다",
                    "레몬즙과 올리브오일을 뿌려 완성!"
                ],
                tips: ["퀴노아는 물 2배 비율로 삶으세요", "차갑게 먹어도 맛있어요"],
                videoSearch: "퀴노아+샐러드+만들기",
                benefits: ["완전 단백질 섭취", "9가지 필수 아미노산", "식이섬유 풍부"]
            },
            {
                id: 20,
                name: "고구마 닭가슴살 볼",
                description: "운동 후 최적의 조합",
                time: 20,
                difficulty: "쉬움",
                calories: 450,
                protein: 35,
                carbs: 58,
                fat: 6,
                cost: 5500,
                healthScore: 86,
                tags: ["고단백", "복합탄수화물", "운동식"],
                reason: "고구마의 복합 탄수화물과 닭가슴살의 단백질로 운동 후 회복에 최적입니다.",
                ingredients: ["고구마", "닭가슴살", "브로콜리", "올리브오일", "후추"],
                steps: [
                    "고구마를 찌거나 구웁니다 (10분)",
                    "닭가슴살을 굽습니다 (8분)",
                    "브로콜리를 데칩니다 (3분)",
                    "볼에 담아 완성!"
                ],
                tips: ["고구마는 전자레인지로 익혀도 OK", "닭가슴살은 촉촉하게 익히세요"],
                videoSearch: "고구마+닭가슴살+만들기",
                benefits: ["고단백 35g", "복합 탄수화물", "운동 후 회복"]
            },
            {
                id: 21,
                name: "렌틸콩 카레",
                description: "식물성 단백질 풍부한 비건 카레",
                time: 25,
                difficulty: "보통",
                calories: 380,
                protein: 18,
                carbs: 62,
                fat: 8,
                cost: 4000,
                healthScore: 84,
                tags: ["비건", "식물성단백질", "식이섬유"],
                reason: "렌틸콩의 식물성 단백질과 식이섬유로 장 건강과 포만감을 높입니다.",
                ingredients: ["렌틸콩", "토마토", "양파", "카레가루", "코코넛밀크", "마늘"],
                steps: [
                    "양파와 마늘을 볶습니다 (3분)",
                    "렌틸콩과 토마토를 넣고 끓입니다 (15분)",
                    "카레가루와 코코넛밀크를 넣습니다 (5분)"
                ],
                tips: ["렌틸콩은 불리지 않아도 돼요", "코코넛밀크로 부드러운 맛"],
                videoSearch: "렌틸콩+카레+만들기",
                benefits: ["식물성 단백질 18g", "식이섬유 풍부", "비건 완벽식"]
            },
            {
                id: 22,
                name: "토마토 달걀 볶음",
                description: "중식 스타일 간단 요리",
                time: 10,
                difficulty: "쉬움",
                calories: 280,
                protein: 14,
                carbs: 22,
                fat: 14,
                cost: 3000,
                healthScore: 79,
                tags: ["간편", "리코펜", "단백질"],
                reason: "토마토의 리코펜이 항산화 작용을 하며, 계란으로 단백질을 보충합니다.",
                ingredients: ["토마토", "계란", "파", "설탕", "소금"],
                steps: [
                    "토마토를 큼직하게 썰어줍니다",
                    "팬에 토마토를 먼저 볶습니다 (4분)",
                    "계란을 풀어 넣고 볶습니다 (3분)",
                    "소금과 설탕으로 간해 완성!"
                ],
                tips: ["토마토는 잘 익은 것을 사용하세요", "설탕을 조금 넣으면 감칠맛이 나요"],
                videoSearch: "토마토+달걀+볶음",
                benefits: ["리코펜의 항산화", "간편한 조리", "단백질 14g"]
            },
            {
                id: 23,
                name: "시금치 두부 된장국",
                description: "철분과 단백질이 풍부한 국",
                time: 15,
                difficulty: "쉬움",
                calories: 220,
                protein: 16,
                carbs: 18,
                fat: 8,
                cost: 3500,
                healthScore: 82,
                tags: ["철분", "단백질", "저칼로리"],
                reason: "시금치의 철분과 두부의 단백질로 영양 균형이 좋은 저칼로리 식사입니다.",
                ingredients: ["시금치", "두부", "된장", "멸치육수", "마늘", "대파"],
                steps: [
                    "멸치로 육수를 냅니다 (5분)",
                    "된장을 풀고 마늘을 넣습니다",
                    "두부와 시금치를 넣고 끓입니다 (7분)"
                ],
                tips: ["시금치는 마지막에 넣어야 색이 살아요", "된장은 체에 거르세요"],
                videoSearch: "시금치+두부+된장국",
                benefits: ["철분으로 빈혈 예방", "단백질 16g", "저칼로리 220kcal"]
            },
            {
                id: 24,
                name: "현미 김밥",
                description: "통곡물로 만든 건강 김밥",
                time: 20,
                difficulty: "보통",
                calories: 420,
                protein: 14,
                carbs: 68,
                fat: 10,
                cost: 5000,
                healthScore: 80,
                tags: ["통곡물", "간편", "한식"],
                reason: "현미로 식이섬유를 높이고, 다양한 재료로 영양 균형을 맞춘 김밥입니다.",
                ingredients: ["현미밥", "김", "시금치", "당근", "단무지", "참기름"],
                steps: [
                    "재료를 준비하고 볶거나 데칩니다 (10분)",
                    "김 위에 현미밥을 펴고 재료를 올립니다",
                    "말아서 한입 크기로 자릅니다"
                ],
                tips: ["밥은 식혀서 사용하세요", "꽉 말아야 흐트러지지 않아요"],
                videoSearch: "현미+김밥+만들기",
                benefits: ["식이섬유 풍부", "다양한 영양소", "간편한 한 끼"]
            },
            {
                id: 25,
                name: "병아리콩 샐러드",
                description: "식물성 단백질 폭탄",
                time: 10,
                difficulty: "쉬움",
                calories: 320,
                protein: 15,
                carbs: 45,
                fat: 9,
                cost: 4000,
                healthScore: 85,
                tags: ["비건", "식물성단백질", "식이섬유"],
                reason: "병아리콩의 식물성 단백질과 식이섬유로 장 건강과 포만감을 높입니다.",
                ingredients: ["병아리콩(캔)", "방울토마토", "오이", "레몬", "올리브오일", "파슬리"],
                steps: [
                    "병아리콩을 헹궈 물기를 뺍니다",
                    "채소를 썰어 줍니다",
                    "모든 재료를 섞습니다",
                    "레몬즙과 올리브오일을 뿌려 완성!"
                ],
                tips: ["병아리콩 캔을 사용하면 간편해요", "냉장 보관하면 2-3일 가능"],
                videoSearch: "병아리콩+샐러드",
                benefits: ["식물성 단백질 15g", "식이섬유 풍부", "비건 완벽식"]
            },
            {
                id: 26,
                name: "양송이버섯 스테이크",
                description: "저칼로리 비건 스테이크",
                time: 15,
                difficulty: "쉬움",
                calories: 180,
                protein: 8,
                carbs: 18,
                fat: 8,
                cost: 4500,
                healthScore: 78,
                tags: ["비건", "저칼로리", "버섯"],
                reason: "버섯의 비타민 D와 낮은 칼로리로 다이어트에 최적입니다.",
                ingredients: ["양송이버섯(대)", "마늘", "올리브오일", "발사믹식초", "파슬리"],
                steps: [
                    "버섯을 큼직하게 준비합니다",
                    "팬에 올리브오일과 마늘을 볶습니다 (2분)",
                    "버섯을 앞뒤로 굽습니다 (10분)",
                    "발사믹식초를 뿌려 완성!"
                ],
                tips: ["버섯은 씻지 말고 닦아서 사용하세요", "센 불에서 바삭하게"],
                videoSearch: "버섯+스테이크",
                benefits: ["비타민 D 풍부", "저칼로리 180kcal", "비건 친화"]
            },
            {
                id: 27,
                name: "콩나물 무침",
                description: "아삭한 식감의 저칼로리 반찬",
                time: 10,
                difficulty: "쉬움",
                calories: 120,
                protein: 8,
                carbs: 15,
                fat: 3,
                cost: 2000,
                healthScore: 75,
                tags: ["저칼로리", "아삭", "단백질"],
                reason: "콩나물의 아스파라긴산이 피로 회복에 도움을 주며 저칼로리입니다.",
                ingredients: ["콩나물", "대파", "마늘", "참기름", "깨소금"],
                steps: [
                    "콩나물을 삶습니다 (5분)",
                    "물기를 빼고 양념을 넣습니다",
                    "버무려서 완성!"
                ],
                tips: ["콩나물은 너무 익히면 아삭함이 없어요", "찬물에 헹구면 더 아삭해요"],
                videoSearch: "콩나물+무침",
                benefits: ["아스파라긴산으로 피로 회복", "저칼로리 120kcal", "단백질 8g"]
            },
            {
                id: 28,
                name: "닭가슴살 무한리필 샐러드",
                description: "포만감 높은 다이어트 식사",
                time: 12,
                difficulty: "쉬움",
                calories: 320,
                protein: 38,
                carbs: 22,
                fat: 8,
                cost: 6000,
                healthScore: 92,
                tags: ["고단백", "저지방", "다이어트"],
                reason: "닭가슴살 150g으로 단백질을 충분히 섭취하며, 다양한 채소로 포만감을 높입니다.",
                ingredients: ["닭가슴살 150g", "로메인", "방울토마토", "오이", "파프리카", "발사믹"],
                steps: [
                    "닭가슴살을 삶거나 구웁니다 (10분)",
                    "채소를 씻어 큼직하게 썰어줍니다",
                    "볼에 담고 닭가슴살을 올립니다",
                    "발사믹 드레싱을 뿌려 완성!"
                ],
                tips: ["채소는 신선한 것을 많이 넣으세요", "드레싱은 적게 사용하세요"],
                videoSearch: "닭가슴살+샐러드+다이어트",
                benefits: ["고단백 38g", "저지방 8g", "높은 포만감"]
            },
            {
                id: 29,
                name: "브로콜리 퀴노아 볼",
                description: "슈퍼푸드 조합",
                time: 20,
                difficulty: "쉬움",
                calories: 350,
                protein: 16,
                carbs: 52,
                fat: 9,
                cost: 5000,
                healthScore: 89,
                tags: ["슈퍼푸드", "완전식품", "채소"],
                reason: "퀴노아와 브로콜리 모두 슈퍼푸드로, 영양소가 매우 풍부합니다.",
                ingredients: ["퀴노아", "브로콜리", "아보카도", "방울토마토", "레몬", "올리브오일"],
                steps: [
                    "퀴노아를 삶습니다 (15분)",
                    "브로콜리를 데칩니다 (3분)",
                    "아보카도와 토마토를 썰어줍니다",
                    "볼에 담고 레몬즙을 뿌려 완성!"
                ],
                tips: ["퀴노아는 미리 만들어두면 편해요", "아보카도는 먹기 직전에"],
                videoSearch: "퀴노아+브로콜리+볼",
                benefits: ["슈퍼푸드 2종", "완전 단백질", "영양소 풍부"]
            },
            {
                id: 30,
                name: "현미 새우 볶음밥",
                description: "통곡물과 해산물의 만남",
                time: 15,
                difficulty: "쉬움",
                calories: 450,
                protein: 22,
                carbs: 62,
                fat: 12,
                cost: 7000,
                healthScore: 81,
                tags: ["통곡물", "해산물", "타우린"],
                reason: "현미의 식이섬유와 새우의 타우린으로 건강하게 즐기는 볶음밥입니다.",
                ingredients: ["현미밥", "새우", "당근", "완두콩", "계란", "간장"],
                steps: [
                    "새우를 손질해서 볶습니다 (3분)",
                    "채소를 넣고 함께 볶습니다 (2분)",
                    "현미밥과 계란을 넣고 볶습니다 (8분)"
                ],
                tips: ["현미밥은 미리 식혀두세요", "센 불에서 빠르게 볶으세요"],
                videoSearch: "현미+새우+볶음밥",
                benefits: ["식이섬유 풍부", "타우린으로 간 건강", "단백질 22g"]
            },
            {
                id: 31,
                name: "연어 포케 볼",
                description: "하와이안 스타일 영양식",
                time: 15,
                difficulty: "쉬움",
                calories: 480,
                protein: 30,
                carbs: 50,
                fat: 16,
                cost: 10000,
                healthScore: 91,
                tags: ["오메가3", "고단백", "프리미엄"],
                reason: "연어의 오메가3와 신선한 채소로 최고의 영양 균형을 자랑합니다.",
                ingredients: ["연어(회용)", "현미밥", "아보카도", "오이", "에다마메", "간장"],
                steps: [
                    "연어를 큐브로 자릅니다",
                    "채소를 준비합니다",
                    "밥 위에 재료를 예쁘게 담습니다",
                    "간장 소스를 곁들여 완성!"
                ],
                tips: ["재료는 차갑게 준비하세요", "연어는 신선한 회용으로"],
                videoSearch: "연어+포케+볼",
                benefits: ["오메가3 최고 함량", "고단백 30g", "프리미엄 영양식"]
            },
            {
                id: 32,
                name: "두부 채소 전골",
                description: "따뜻한 저칼로리 건강식",
                time: 20,
                difficulty: "쉬움",
                calories: 280,
                protein: 20,
                carbs: 24,
                fat: 10,
                cost: 5000,
                healthScore: 84,
                tags: ["저칼로리", "단백질", "채소풍부"],
                reason: "두부와 다양한 채소로 영양은 높이고 칼로리는 낮춘 건강한 전골입니다.",
                ingredients: ["두부", "배추", "버섯", "당근", "대파", "멸치육수"],
                steps: [
                    "육수를 끓입니다 (5분)",
                    "채소를 썰어 넣습니다 (10분)",
                    "두부를 넣고 한소끔 끓입니다 (3분)"
                ],
                tips: ["채소는 다양하게 넣을수록 좋아요", "두부는 마지막에"],
                videoSearch: "두부+전골+만들기",
                benefits: ["저칼로리 280kcal", "단백질 20g", "채소 풍부"]
            },
            {
                id: 33,
                name: "치킨 케이준 샐러드",
                description: "매콤한 고단백 샐러드",
                time: 15,
                difficulty: "쉬움",
                calories: 350,
                protein: 32,
                carbs: 22,
                fat: 14,
                cost: 6000,
                healthScore: 85,
                tags: ["고단백", "매콤", "다이어트"],
                reason: "케이준 양념으로 맛있게, 고단백으로 건강하게 즐기는 샐러드입니다.",
                ingredients: ["닭가슴살", "케이준시즈닝", "로메인", "방울토마토", "옥수수", "요거트드레싱"],
                steps: [
                    "닭가슴살에 케이준시즈닝을 발라 굽습니다 (10분)",
                    "채소를 준비합니다",
                    "볼에 담고 요거트드레싱을 뿌립니다"
                ],
                tips: ["케이준시즈닝은 취향껏 조절하세요", "닭가슴살은 촉촉하게"],
                videoSearch: "케이준+치킨+샐러드",
                benefits: ["고단백 32g", "매콤한 맛", "저지방 다이어트식"]
            },
            {
                id: 34,
                name: "아보카도 명란 덮밥",
                description: "건강한 지방과 단백질의 조화",
                time: 10,
                difficulty: "쉬움",
                calories: 420,
                protein: 18,
                carbs: 52,
                fat: 16,
                cost: 6500,
                healthScore: 80,
                tags: ["건강한지방", "간편", "영양"],
                reason: "아보카도의 불포화지방산과 명란의 단백질로 영양 균형이 좋습니다.",
                ingredients: ["현미밥", "아보카도", "명란", "김", "참기름", "깨소금"],
                steps: [
                    "아보카도를 슬라이스합니다",
                    "밥 위에 아보카도와 명란을 올립니다",
                    "김과 깨소금을 뿌려 완성!"
                ],
                tips: ["아보카도는 잘 익은 것으로", "간장을 살짝 뿌려도 맛있어요"],
                videoSearch: "아보카도+명란+덮밥",
                benefits: ["불포화지방산 풍부", "간편한 한 끼", "영양 균형"]
            },
            {
                id: 35,
                name: "시금치 페스토 파스타",
                description: "철분 가득 건강 파스타",
                time: 20,
                difficulty: "보통",
                calories: 450,
                protein: 16,
                carbs: 68,
                fat: 14,
                cost: 5500,
                healthScore: 79,
                tags: ["철분", "채소", "양식"],
                reason: "시금치의 철분과 통밀 파스타로 건강하게 즐기는 이탈리안 요리입니다.",
                ingredients: ["통밀파스타", "시금치", "마늘", "잣", "파르메산치즈", "올리브오일"],
                steps: [
                    "파스타를 삶습니다 (8분)",
                    "시금치 페스토를 만듭니다 (믹서에 갈기, 5분)",
                    "파스타와 페스토를 버무립니다"
                ],
                tips: ["페스토는 미리 만들어 냉동 보관 가능", "치즈는 넉넉히"],
                videoSearch: "시금치+페스토+파스타",
                benefits: ["철분으로 빈혈 예방", "통밀로 식이섬유", "건강한 양식"]
            }
        ];

        let selectedData = {
            gender: '',
            height: '',
            weight: '',
            bmi: 0,
            recommendCalories: 0,
            mealTime: '',
            cooking: '',
            budget: '',
            avoid: ''
        };

        let currentMenu = null;
        let filteredMenus = [];

        function startQuestions() {
            switchScreen('q0');
        }

        function switchScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
        }

        function enableNextBtn(btnId) {
            const gender = document.getElementById('genderSelect')?.value || '';
            const height = document.getElementById('heightInput')?.value || '';
            const weight = document.getElementById('weightInput')?.value || '';
            
            if (btnId === 'nextBtn0') {
                const btn = document.getElementById(btnId);
                if (gender && height && weight) {
                    btn.disabled = false;
                } else {
                    btn.disabled = true;
                }
            }
        }

        function selectOption(btn, type, value) {
            btn.parentElement.querySelectorAll('.option-btn').forEach(b => {
                b.classList.remove('selected');
            });
            
            btn.classList.add('selected');
            selectedData[type] = value;
            
            if (type === 'mealTime') {
                document.getElementById('nextBtn1').disabled = false;
            } else if (type === 'cooking') {
                document.getElementById('nextBtn2').disabled = false;
            } else if (type === 'budget') {
                document.getElementById('nextBtn3').disabled = false;
            }
        }

        function calculateBMI(height, weight) {
            const heightM = height / 100;
            return (weight / (heightM * heightM)).toFixed(1);
        }

        function getRecommendCalories(gender, weight, height, mealTime) {
            // 기초대사량 계산 (Harris-Benedict)
            let bmr = gender === 'male' 
                ? 66 + (13.7 * weight) + (5 * height) - (6.8 * 25)  // 평균 나이 25세 가정
                : 655 + (9.6 * weight) + (1.8 * height) - (4.7 * 25);
            
            // 활동대사량 (보통 활동량)
            const tdee = bmr * 1.55;
            
            // 식사별 칼로리 비율
            const mealRatios = {
                '아침': 0.25,
                '점심': 0.35,
                '저녁': 0.30
            };
            
            return Math.round(tdee * (mealRatios[mealTime] || 0.30));
        }

        function nextScreen(screenId) {
            if (screenId === 'q1') {
                selectedData.gender = document.getElementById('genderSelect').value;
                selectedData.height = parseFloat(document.getElementById('heightInput').value);
                selectedData.weight = parseFloat(document.getElementById('weightInput').value);
                selectedData.bmi = calculateBMI(selectedData.height, selectedData.weight);
                switchScreen('q1');
            } else if (screenId === 'loading') {
                selectedData.avoid = document.getElementById('avoidInput').value.toLowerCase();
                selectedData.recommendCalories = getRecommendCalories(
                    selectedData.gender,
                    selectedData.weight,
                    selectedData.height,
                    selectedData.mealTime
                );
                switchScreen('loading');
                setTimeout(() => {
                    filterAndDisplayMenus();
                }, 2500);
            } else {
                switchScreen(screenId);
            }
        }

        function filterAndDisplayMenus() {
            const cookingTimeMap = {
                '전자레인지': 5,
                '10분': 10,
                '20분': 20,
                '30분': 30
            };

            const maxTime = cookingTimeMap[selectedData.cooking];
            const maxBudget = parseInt(selectedData.budget);
            const avoidList = selectedData.avoid.split(',').map(item => item.trim()).filter(item => item);
            const targetCalories = selectedData.recommendCalories;

            // 필터링
            filteredMenus = menuDatabase.filter(menu => {
                if (menu.time > maxTime) return false;
                if (menu.cost > maxBudget) return false;
                
                for (let avoid of avoidList) {
                    for (let ingredient of menu.ingredients) {
                        if (ingredient.includes(avoid) || avoid.includes(ingredient)) {
                            return false;
                        }
                    }
                    if (menu.name.includes(avoid)) {
                        return false;
                    }
                }
                
                return true;
            });

            // 건강 점수 순으로 정렬
            filteredMenus.sort((a, b) => b.healthScore - a.healthScore);

            // 칼로리가 목표와 가까운 순으로 가중치 부여
            filteredMenus.forEach(menu => {
                const calorieDiff = Math.abs(menu.calories - targetCalories);
                menu.calorieScore = 100 - (calorieDiff / 10);
            });

            // 최종 점수 = 건강점수 70% + 칼로리점수 30%
            filteredMenus.sort((a, b) => {
                const scoreA = (a.healthScore * 0.7) + (a.calorieScore * 0.3);
                const scoreB = (b.healthScore * 0.7) + (b.calorieScore * 0.3);
                return scoreB - scoreA;
            });

            // 상위 5개 중에서 랜덤 3개 선택 (다양성)
            const topMenus = filteredMenus.slice(0, Math.min(8, filteredMenus.length));
            const selectedMenus = [];
            
            for (let i = 0; i < Math.min(3, topMenus.length); i++) {
                const randomIndex = Math.floor(Math.random() * topMenus.length);
                selectedMenus.push(topMenus[randomIndex]);
                topMenus.splice(randomIndex, 1);
            }

            displayMenus(selectedMenus);
            switchScreen('results');
        }

        function displayMenus(menus) {
            const analysisDiv = document.getElementById('userAnalysis');
            const container = document.getElementById('menuContainer');
            
            // 사용자 분석 정보 표시
            let bmiStatus = '';
            let bmiColor = '';
            if (selectedData.bmi < 18.5) {
                bmiStatus = '저체중';
                bmiColor = '#FF9800';
            } else if (selectedData.bmi < 23) {
                bmiStatus = '정상';
                bmiColor = '#4CAF50';
            } else if (selectedData.bmi < 25) {
                bmiStatus = '과체중';
                bmiColor = '#FFA726';
            } else {
                bmiStatus = '비만';
                bmiColor = '#FF7043';
            }

            analysisDiv.innerHTML = `
                <div class="bmi-info">
                    <strong>당신의 건강 분석</strong><br>
                    <div style="margin-top: 10px; font-size: 14px;">
                        BMI: <span style="color: ${bmiColor}; font-weight: bold;">${selectedData.bmi}</span> (${bmiStatus})<br>
                        권장 칼로리: <strong>${selectedData.recommendCalories}kcal</strong>
                    </div>
                </div>
            `;
            
            if (menus.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 40px 20px; color: #666;">
                        <h3 style="margin-bottom: 15px;">😢 조건에 맞는 메뉴가 없어요</h3>
                        <p>예산을 조금 올리거나 조리 시간을 늘려보세요</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = menus.map(menu => {
                let scoreClass = 'health-score';
                let scoreEmoji = '🌟';
                if (menu.healthScore >= 85) {
                    scoreClass = 'health-score';
                    scoreEmoji = '🌟';
                } else if (menu.healthScore >= 75) {
                    scoreClass = 'health-score medium';
                    scoreEmoji = '⭐';
                } else {
                    scoreClass = 'health-score low';
                    scoreEmoji = '✨';
                }

                const calorieDiff = menu.calories - selectedData.recommendCalories;
                let calorieNote = '';
                if (Math.abs(calorieDiff) < 50) {
                    calorieNote = '✅ 목표 칼로리에 딱!';
                } else if (calorieDiff > 0) {
                    calorieNote = `⚠️ ${calorieDiff}kcal 높아요`;
                } else {
                    calorieNote = `👍 ${Math.abs(calorieDiff)}kcal 낮아요`;
                }

                return `
                <div class="menu-card" onclick="showDetail(${menu.id})">
                    <h4>
                        ${menu.name}
                        <span class="${scoreClass}">${scoreEmoji} ${menu.healthScore}점</span>
                    </h4>
                    <div class="recommendation-reason">
                        💡 <strong>추천 이유:</strong> ${menu.reason}
                    </div>
                    <p style="color: #4CAF50; font-weight: bold; font-size: 13px;">${calorieNote}</p>
                    <div class="menu-meta">
                        <div class="meta-item">⏱️ ${menu.time}분</div>
                        <div class="meta-item">⭐ ${menu.difficulty}</div>
                        <div class="meta-item">🔥 ${menu.calories}kcal</div>
                        <div class="meta-item">💪 ${menu.protein}g</div>
                    </div>
                    <div style="margin-top: 10px;">
                        ${menu.tags.map(tag => `<span class="tag">#${tag}</span>`).join('')}
                    </div>
                </div>
            `}).join('');
        }

        function showDetail(menuId) {
            const menu = menuDatabase.find(m => m.id === menuId);
            if (!menu) return;

            currentMenu = menu;
            
            const detailHTML = `
                <h3 style="margin-bottom: 10px;">${menu.name}</h3>
                <span class="health-score">🌟 건강 점수: ${menu.healthScore}점</span>
                
                <div class="detail-section" style="margin-top: 20px;">
                    <h4>🛒 필요한 재료</h4>
                    <ul class="ingredient-list">
                        ${menu.ingredients.map(ing => `<li>${ing}</li>`).join('')}
                    </ul>
                    <p style="color: #4CAF50; margin-top: 10px; font-weight: bold;">예상 비용: 약 ${menu.cost.toLocaleString()}원</p>
                </div>

                <div class="detail-section">
                    <h4>👨‍🍳 조리 순서</h4>
                    <ol class="step-list">
                        ${menu.steps.map(step => `<li>${step}</li>`).join('')}
                    </ol>
                </div>

                <div class="detail-section">
                    <h4>🎥 조리법 영상</h4>
                    <a href="https://www.youtube.com/results?search_query=${menu.videoSearch}" target="_blank" class="video-link">
                        <span>▶️</span>
                        <span>유튜브에서 조리법 보기</span>
                    </a>
                </div>

                <div class="detail-section">
                    <h4>📊 영양 정보</h4>
                    <div class="nutrition-grid">
                        <div class="nutrition-item">
                            <div class="value">${menu.calories}</div>
                            <div class="label">칼로리</div>
                        </div>
                        <div class="nutrition-item">
                            <div class="value">${menu.protein}g</div>
                            <div class="label">단백질</div>
                        </div>
                        <div class="nutrition-item">
                            <div class="value">${menu.carbs}g</div>
                            <div class="label">탄수화물</div>
                        </div>
                        <div class="nutrition-item">
                            <div class="value">${menu.fat}g</div>
                            <div class="label">지방</div>
                        </div>
                    </div>
                </div>

                <div class="detail-section">
                    <h4>💚 영양학적 장점</h4>
                    <ul class="ingredient-list">
                        ${menu.benefits.map(benefit => `<li>${benefit}</li>`).join('')}
                    </ul>
                </div>

                <div class="detail-section">
                    <h4>💡 조리 팁</h4>
                    <ul class="ingredient-list">
                        ${menu.tips.map(tip => `<li>${tip}</li>`).join('')}
                    </ul>
                </div>
            `;

            document.getElementById('detailContent').innerHTML = detailHTML;
            switchScreen('detail');
        }

        function backToResults() {
            switchScreen('results');
        }

        function restart() {
            selectedData = {
                gender: '',
                height: '',
                weight: '',
                bmi: 0,
                recommendCalories: 0,
                mealTime: '',
                cooking: '',
                budget: '',
                avoid: ''
            };
            document.getElementById('genderSelect').value = '';
            document.getElementById('heightInput').value = '';
            document.getElementById('weightInput').value = '';
            document.getElementById('avoidInput').value = '';
            switchScreen('welcome');
        }
    </script>
</body>
</html>
