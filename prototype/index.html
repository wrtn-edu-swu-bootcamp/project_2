<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë°¥ì‹¬ - ìŠ¤ë§ˆíŠ¸ ì˜ì–‘ ì¶”ì²œ</title>
    
    <!-- ì¹´ì¹´ì˜¤ SDK -->
    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.0/kakao.min.js"></script>
    
    <!-- í•œê¸€ ì›¹í°íŠ¸ -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #4CAF50 0%, #66BB6A 50%, #81C784 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0;
            overflow: hidden;
        }

        .mobile-frame {
            width: 100%;
            max-width: 420px;
            height: 100vh;
            max-height: 900px;
            background: #f8f9fa;
            border-radius: 40px;
            box-shadow: 0 30px 100px rgba(0, 0, 0, 0.4), 
                        0 0 0 12px #1a1a1a,
                        0 0 0 14px #333;
            overflow: hidden;
            position: relative;
            animation: phonePopIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes phonePopIn {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        .notch {
            width: 180px;
            height: 30px;
            background: #1a1a1a;
            border-radius: 0 0 20px 20px;
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .container {
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, #ffffff 0%, #f8f9fa 100%);
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            padding-top: 35px;
        }

        .header {
            background: linear-gradient(135deg, #4CAF50 0%, #66BB6A 100%);
            color: white;
            padding: 40px 25px 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: headerGlow 8s linear infinite;
        }

        @keyframes headerGlow {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .header h1 {
            font-size: 36px;
            font-weight: 800;
            margin-bottom: 8px;
            letter-spacing: -1px;
            position: relative;
            z-index: 1;
            text-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header p {
            font-size: 15px;
            opacity: 0.95;
            font-weight: 500;
            position: relative;
            z-index: 1;
        }

        /* íƒ­ ë„¤ë¹„ê²Œì´ì…˜ */
        .tab-nav {
            display: flex;
            background: white;
            border-bottom: 1px solid #e9ecef;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .tab-btn {
            flex: 1;
            padding: 15px;
            border: none;
            background: transparent;
            color: #999;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            position: relative;
            transition: all 0.3s;
        }

        .tab-btn.active {
            color: #4CAF50;
        }

        .tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #4CAF50 0%, #66BB6A 100%);
        }

        .content {
            padding: 25px 20px 30px;
        }

        .screen {
            display: none;
        }

        .screen.active {
            display: block;
            animation: slideIn 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        @keyframes slideIn {
            0% { 
                opacity: 0;
                transform: translateY(30px);
            }
            100% { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ì˜¤ëŠ˜ì˜ ì¶”ì²œ ë°°ë„ˆ */
        .daily-banner {
            background: linear-gradient(135deg, #4CAF50 0%, #66BB6A 100%);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            color: white;
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.3);
        }

        .daily-banner h3 {
            font-size: 18px;
            margin-bottom: 8px;
        }

        .daily-banner p {
            font-size: 14px;
            opacity: 0.9;
        }

        /* í†µê³„ ì¹´ë“œ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 25px;
        }

        .stat-card {
            background: white;
            padding: 18px 12px;
            border-radius: 16px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
        }

        .stat-card .value {
            font-size: 24px;
            font-weight: 800;
            background: linear-gradient(135deg, #4CAF50 0%, #66BB6A 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-card .label {
            font-size: 12px;
            color: #999;
            margin-top: 4px;
        }

        .progress-bar {
            height: 6px;
            background: rgba(76, 175, 80, 0.1);
            border-radius: 10px;
            margin-bottom: 25px;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50 0%, #66BB6A 100%);
            transition: width 0.5s cubic-bezier(0.65, 0, 0.35, 1);
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.5);
        }

        .question {
            margin-bottom: 30px;
        }

        .question-num {
            display: inline-block;
            background: linear-gradient(135deg, #4CAF50 0%, #66BB6A 100%);
            color: white;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 700;
            margin-bottom: 15px;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .question h3 {
            color: #1a1a1a;
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 10px;
            line-height: 1.4;
            letter-spacing: -0.5px;
        }

        .question p {
            color: #666;
            font-size: 14px;
            line-height: 1.6;
        }

        .options {
            display: grid;
            gap: 12px;
            margin-top: 20px;
        }

        .option-btn {
            background: white;
            border: 2px solid #e9ecef;
            padding: 18px 20px;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            text-align: left;
            font-size: 16px;
            font-weight: 600;
            color: #333;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
            position: relative;
            overflow: hidden;
        }

        .option-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(76, 175, 80, 0.1);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .option-btn:active::before {
            width: 300px;
            height: 300px;
        }

        .option-btn:hover {
            border-color: #4CAF50;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(76, 175, 80, 0.2);
        }

        .option-btn.selected {
            background: linear-gradient(135deg, #4CAF50 0%, #66BB6A 100%);
            border-color: #4CAF50;
            color: white;
            transform: scale(1.02);
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.4);
        }

        .option-btn small {
            display: block;
            font-size: 13px;
            opacity: 0.7;
            margin-top: 4px;
            font-weight: 400;
        }

        .btn {
            width: 100%;
            padding: 18px;
            border: none;
            border-radius: 16px;
            font-size: 17px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            margin-top: 25px;
            font-family: 'Pretendard', sans-serif;
            letter-spacing: -0.3px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #4CAF50 0%, #66BB6A 100%);
            color: white;
            box-shadow: 0 8px 20px rgba(76, 175, 80, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 30px rgba(76, 175, 80, 0.4);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.2);
        }

        .btn-secondary {
            background: white;
            color: #4CAF50;
            border: 2px solid #4CAF50;
            box-shadow: none;
        }

        .bmi-info, .nutrition-alert {
            background: linear-gradient(135deg, #e8f5e9 0%, #f1f8e9 100%);
            padding: 20px;
            border-radius: 16px;
            margin-bottom: 20px;
            border-left: 4px solid #4CAF50;
            box-shadow: 0 4px 12px rgba(0,0,0,0.06);
        }

        .bmi-info strong, .nutrition-alert strong {
            color: #2E7D32;
            font-size: 17px;
            display: block;
            margin-bottom: 10px;
        }

        .menu-card {
            background: white;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 16px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            border: 2px solid #f0f0f0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.06);
            position: relative;
            overflow: hidden;
        }

        .menu-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(to bottom, #4CAF50, #66BB6A);
            transform: scaleY(0);
            transition: transform 0.3s;
        }

        .menu-card:hover::before {
            transform: scaleY(1);
        }

        .menu-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 30px rgba(76, 175, 80, 0.15);
            border-color: #4CAF50;
        }

        .menu-card h4 {
            color: #1a1a1a;
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
        }

        .menu-actions {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }

        .action-btn {
            flex: 1;
            padding: 10px;
            border: 1px solid #e9ecef;
            background: white;
            border-radius: 10px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .action-btn:hover {
            background: #f8f9fa;
            border-color: #4CAF50;
            color: #4CAF50;
        }

        .action-btn.active {
            background: linear-gradient(135deg, #4CAF50 0%, #66BB6A 100%);
            color: white;
            border-color: #4CAF50;
        }

        .health-score {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            background: linear-gradient(135deg, #4CAF50 0%, #66BB6A 100%);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 700;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .health-score.medium {
            background: linear-gradient(135deg, #FFA726 0%, #FB8C00 100%);
        }

        .health-score.low {
            background: linear-gradient(135deg, #FF7043 0%, #F4511E 100%);
        }

        .recommendation-reason {
            background: linear-gradient(135deg, #e8f5e9 0%, #f3e5f5 100%);
            padding: 14px 16px;
            border-radius: 12px;
            margin: 12px 0;
            font-size: 14px;
            color: #2e7d32;
            border-left: 3px solid #4CAF50;
            line-height: 1.6;
        }

        .menu-meta {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            margin: 12px 0;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 14px;
            color: #666;
            font-weight: 500;
        }

        .tag {
            display: inline-block;
            background: linear-gradient(135deg, #4CAF50 0%, #66BB6A 100%);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin: 4px 4px 4px 0;
            box-shadow: 0 2px 8px rgba(76, 175, 80, 0.25);
        }

        .loading {
            text-align: center;
            padding: 60px 20px;
        }

        .loading-spinner {
            border: 5px solid rgba(76, 175, 80, 0.1);
            border-top: 5px solid #4CAF50;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1s linear infinite;
            margin: 0 auto 25px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading h3 {
            color: #1a1a1a;
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .loading p {
            color: #666;
            font-size: 15px;
        }

        .input-group {
            margin-bottom: 18px;
        }

        .input-group label {
            display: block;
            color: #333;
            font-size: 15px;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            font-size: 16px;
            font-family: 'Pretendard', sans-serif;
            transition: all 0.3s;
            background: white;
        }

        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: #4CAF50;
            box-shadow: 0 0 0 4px rgba(76, 175, 80, 0.1);
        }

        .input-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .detail-section {
            margin-bottom: 30px;
            background: white;
            padding: 20px;
            border-radius: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
        }

        .detail-section h4 {
            color: #1a1a1a;
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 2px solid #f0f0f0;
        }

        .ingredient-list, .step-list {
            list-style: none;
        }

        .ingredient-list li {
            padding: 10px 0 10px 28px;
            position: relative;
            font-size: 15px;
            color: #333;
        }

        .ingredient-list li:before {
            content: "âœ“";
            position: absolute;
            left: 0;
            color: #4CAF50;
            font-weight: 700;
            font-size: 18px;
        }

        .step-list {
            counter-reset: step-counter;
        }

        .step-list li {
            padding: 14px 0 14px 45px;
            position: relative;
            counter-increment: step-counter;
            font-size: 15px;
            line-height: 1.6;
            color: #333;
        }

        .step-list li:before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            background: linear-gradient(135deg, #4CAF50 0%, #66BB6A 100%);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 700;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .nutrition-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 14px;
        }

        .nutrition-item {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 20px;
            border-radius: 14px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
        }

        .nutrition-item .value {
            font-size: 28px;
            font-weight: 800;
            background: linear-gradient(135deg, #4CAF50 0%, #66BB6A 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 6px;
        }

        .nutrition-item .label {
            font-size: 14px;
            color: #666;
            font-weight: 600;
        }

        .video-link {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            background: linear-gradient(135deg, #4CAF50 0%, #66BB6A 100%);
            color: white;
            padding: 14px 24px;
            border-radius: 14px;
            text-decoration: none;
            font-weight: 700;
            font-size: 15px;
            transition: all 0.3s;
            box-shadow: 0 6px 16px rgba(76, 175, 80, 0.3);
            width: 100%;
        }

        .video-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(76, 175, 80, 0.4);
        }

        /* ì¥ë³´ê¸° ë¦¬ìŠ¤íŠ¸ ëª¨ë‹¬ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: modalPop 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes modalPop {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        .modal-content h3 {
            font-size: 22px;
            margin-bottom: 20px;
            color: #1a1a1a;
        }

        /* ë³„ì  */
        .rating-stars {
            display: flex;
            gap: 8px;
            font-size: 24px;
            margin: 12px 0;
        }

        .star {
            cursor: pointer;
            transition: all 0.2s;
        }

        .star:hover {
            transform: scale(1.2);
        }

        .star.filled {
            color: #FFA726;
        }

        .star.empty {
            color: #e0e0e0;
        }

        /* ì›°ì»´ ìŠ¤í¬ë¦° */
        #welcome {
            text-align: center;
            padding: 40px 0;
        }

        #welcome h2 {
            font-size: 28px;
            font-weight: 800;
            color: #1a1a1a;
            margin-bottom: 16px;
            letter-spacing: -0.5px;
        }

        #welcome p {
            font-size: 16px;
            color: #666;
            line-height: 1.8;
        }

        #welcome strong {
            background: linear-gradient(135deg, #4CAF50 0%, #66BB6A 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* ìŠ¤í¬ë¡¤ë°” */
        .container::-webkit-scrollbar {
            width: 6px;
        }

        .container::-webkit-scrollbar-track {
            background: transparent;
        }

        .container::-webkit-scrollbar-thumb {
            background: rgba(76, 175, 80, 0.3);
            border-radius: 10px;
        }

        .container::-webkit-scrollbar-thumb:hover {
            background: rgba(76, 175, 80, 0.5);
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 480px) {
            .mobile-frame {
                border-radius: 0;
                max-width: 100%;
                height: 100vh;
                max-height: none;
                box-shadow: none;
            }

            .notch {
                display: none;
            }

            .container {
                padding-top: 0;
            }

            .header {
                padding-top: 50px;
            }
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #999;
        }

        .empty-state-icon {
            font-size: 64px;
            margin-bottom: 16px;
        }

        .empty-state h3 {
            font-size: 18px;
            color: #666;
            margin-bottom: 8px;
        }

        .empty-state p {
            font-size: 14px;
            color: #999;
        }
    </style>
</head>
<body>
    <div class="mobile-frame">
        <div class="notch"></div>
        <div class="container">
            <div class="header">
                <h1>ğŸš ë°¥ì‹¬</h1>
                <p>ë‹¹ì‹ ì˜ ì˜ì–‘ ê· í˜•ì„ ìœ„í•œ ìŠ¤ë§ˆíŠ¸ ì‹ë‹¨ ì¶”ì²œ</p>
            </div>

            <!-- íƒ­ ë„¤ë¹„ê²Œì´ì…˜ -->
            <div class="tab-nav" id="tabNav" style="display: none;">
                <button class="tab-btn active" onclick="switchTab('home')">í™ˆ</button>
                <button class="tab-btn" onclick="switchTab('saved')">ì €ì¥ <span id="savedCount"></span></button>
                <button class="tab-btn" onclick="switchTab('tracker')">í†µê³„</button>
            </div>

            <div class="content">
                <!-- Welcome Screen -->
                <div id="welcome" class="screen active">
                    <h2>í™˜ì˜í•©ë‹ˆë‹¤!</h2>
                    <p style="margin-bottom: 40px;">
                        ë‹¹ì‹ ì˜ ëª¸ ìƒíƒœì™€ ëª©í‘œë¥¼ ë¶„ì„í•´ì„œ<br>
                        <strong>ì˜ì–‘í•™ì ìœ¼ë¡œ ê· í˜•ì¡íŒ ì‹ë‹¨</strong>ì„<br>
                        ì¶”ì²œí•´ë“œë¦´ê²Œìš”.
                    </p>
                    
                    <div style="margin-bottom: 20px;">
                        <button class="btn btn-primary" onclick="startQuestions()">ìì„¸í•˜ê²Œ ì¶”ì²œë°›ê¸° (8ë¬¸í•­)</button>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <button class="btn btn-secondary" onclick="quickStart()">ë¹ ë¥´ê²Œ ì¶”ì²œë°›ê¸° (3ë¬¸í•­)</button>
                    </div>
                    
                    <div id="quickRecommendBtn" style="display: none; margin-top: 10px;">
                        <button class="btn btn-secondary" onclick="quickRecommendAgain()">ğŸ”„ ì´ì „ ì •ë³´ë¡œ ë‹¤ì‹œ ì¶”ì²œ</button>
                    </div>
                </div>

                <!-- Quick Mode Screen -->
                <div id="quickMode" class="screen">
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 33%"></div>
                    </div>
                    <div class="question">
                        <div class="question-num">ë¹ ë¥¸ ì¶”ì²œ 1/3</div>
                        <h3>ì–¼ë§ˆë‚˜ ì‹œê°„ì´ ìˆë‚˜ìš”?</h3>
                        <div class="options">
                            <button class="option-btn" onclick="selectQuickOption(this, 'cooking', 'ì „ìë ˆì¸ì§€')">
                                ğŸ“± ì „ìë ˆì¸ì§€ë§Œ (5ë¶„)
                            </button>
                            <button class="option-btn" onclick="selectQuickOption(this, 'cooking', '10ë¶„')">
                                âš¡ 10ë¶„ ì´ë‚´
                            </button>
                            <button class="option-btn" onclick="selectQuickOption(this, 'cooking', '20ë¶„')">
                                ğŸ‘¨â€ğŸ³ 20ë¶„ ì´ë‚´
                            </button>
                        </div>
                    </div>
                    <button class="btn btn-primary" id="quickBtn1" disabled onclick="nextQuick('quick2')">ë‹¤ìŒ</button>
                </div>

                <div id="quick2" class="screen">
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 66%"></div>
                    </div>
                    <div class="question">
                        <div class="question-num">ë¹ ë¥¸ ì¶”ì²œ 2/3</div>
                        <h3>ì˜ˆì‚°ì€ ì–¼ë§ˆë‚˜?</h3>
                        <div class="options">
                            <button class="option-btn" onclick="selectQuickOption(this, 'budget', '3000')">
                                ğŸ’° 3,000ì› ì´í•˜
                            </button>
                            <button class="option-btn" onclick="selectQuickOption(this, 'budget', '5000')">
                                ğŸ’µ 5,000ì› ì´í•˜
                            </button>
                            <button class="option-btn" onclick="selectQuickOption(this, 'budget', '15000')">
                                ğŸ’ ê¸ˆì•¡ ìƒê´€ì—†ìŒ
                            </button>
                        </div>
                    </div>
                    <button class="btn btn-primary" id="quickBtn2" disabled onclick="nextQuick('quick3')">ë‹¤ìŒ</button>
                </div>

                <div id="quick3" class="screen">
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 100%"></div>
                    </div>
                    <div class="question">
                        <div class="question-num">ë¹ ë¥¸ ì¶”ì²œ 3/3</div>
                        <h3>ëª» ë¨¹ëŠ” ì¬ë£ŒëŠ”?</h3>
                        <div class="input-group" style="margin-top: 20px;">
                            <input type="text" placeholder="ì˜ˆ: ê³„ë€, ìƒˆìš° (ì—†ìœ¼ë©´ ë¹„ì›Œë‘ì„¸ìš”)" id="quickAvoidInput">
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="quickRecommend()">ë°”ë¡œ ì¶”ì²œë°›ê¸°</button>
                </div>

                <!-- Home Tab -->
                <div id="home" class="screen">
                    <!-- ì˜¤ëŠ˜ì˜ ì¶”ì²œ -->
                    <div class="daily-banner" onclick="showDailyRecommendation()">
                        <h3>ğŸŒŸ ì˜¤ëŠ˜ì˜ ì¶”ì²œ</h3>
                        <p id="dailyMenuName">íƒ­í•´ì„œ í™•ì¸í•˜ê¸°</p>
                    </div>

                    <!-- í†µê³„ -->
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="value" id="todayCalories">0</div>
                            <div class="label">ì˜¤ëŠ˜ ì¹¼ë¡œë¦¬</div>
                        </div>
                        <div class="stat-card">
                            <div class="value" id="weeklyCount">0</div>
                            <div class="label">ì´ë²ˆ ì£¼</div>
                        </div>
                        <div class="stat-card">
                            <div class="value" id="savedMenuCount">0</div>
                            <div class="label">ì €ì¥í•œ ë©”ë‰´</div>
                        </div>
                    </div>

                    <button class="btn btn-primary" onclick="startQuestions()">ìƒˆë¡œìš´ ë©”ë‰´ ì¶”ì²œë°›ê¸°</button>
                    
                    <!-- ìµœê·¼ ë³¸ ë©”ë‰´ -->
                    <div id="recentSection" style="margin-top: 30px;">
                        <h3 style="font-size: 18px; margin-bottom: 16px; color: #1a1a1a;">ìµœê·¼ ë³¸ ë©”ë‰´</h3>
                        <div id="recentMenus"></div>
                    </div>
                </div>

                <!-- Saved Tab -->
                <div id="saved" class="screen">
                    <h3 style="font-size: 22px; margin-bottom: 20px; color: #1a1a1a;">ì €ì¥í•œ ë©”ë‰´</h3>
                    <div id="savedMenusContainer"></div>
                </div>

                <!-- Tracker Tab -->
                <div id="tracker" class="screen">
                    <h3 style="font-size: 22px; margin-bottom: 20px; color: #1a1a1a;">ë‚´ ì‹ë‹¨ í†µê³„</h3>
                    
                    <div class="bmi-info" id="trackerBMI"></div>
                    
                    <div class="detail-section">
                        <h4>ğŸ“Š ì´ë²ˆ ì£¼ ê¸°ë¡</h4>
                        <div class="nutrition-grid">
                            <div class="nutrition-item">
                                <div class="value" id="weekTotalCalories">0</div>
                                <div class="label">ì´ ì¹¼ë¡œë¦¬</div>
                            </div>
                            <div class="nutrition-item">
                                <div class="value" id="weekAvgProtein">0g</div>
                                <div class="label">í‰ê·  ë‹¨ë°±ì§ˆ</div>
                            </div>
                            <div class="nutrition-item">
                                <div class="value" id="weekMealCount">0</div>
                                <div class="label">ì‹ì‚¬ íšŸìˆ˜</div>
                            </div>
                            <div class="nutrition-item">
                                <div class="value" id="weekHealthScore">0</div>
                                <div class="label">í‰ê·  ê±´ê°•ì ìˆ˜</div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4>ğŸ† ë‚´ ê¸°ë¡</h4>
                        <ul class="ingredient-list">
                            <li>ì´ ì¶”ì²œë°›ì€ ë©”ë‰´: <strong id="totalRecommended">0ê°œ</strong></li>
                            <li>ì €ì¥í•œ ë©”ë‰´: <strong id="totalSaved">0ê°œ</strong></li>
                            <li>í‰ê·  ê±´ê°• ì ìˆ˜: <strong id="avgHealthScore">0ì </strong></li>
                        </ul>
                    </div>
                </div>

                <!-- Question Screens -->
                <div id="q0" class="screen">
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 12.5%"></div>
                    </div>
                    <div class="question">
                        <div class="question-num">í•„ìˆ˜ ì§ˆë¬¸ 1/8</div>
                        <h3>ê¸°ë³¸ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</h3>
                        <p>ì ì • ì¹¼ë¡œë¦¬ì™€ í•„ìš” ì˜ì–‘ì†Œë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤</p>
                        
                        <div style="margin-top: 20px;">
                            <div class="input-group">
                                <label>ì„±ë³„</label>
                                <select id="genderSelect" onchange="enableNextBtn('nextBtn0')">
                                    <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                                    <option value="male">ë‚¨ì„±</option>
                                    <option value="female">ì—¬ì„±</option>
                                </select>
                            </div>
                            <div class="input-row">
                                <div class="input-group">
                                    <label>í‚¤ (cm)</label>
                                    <input type="number" id="heightInput" placeholder="170" onkeyup="enableNextBtn('nextBtn0')">
                                </div>
                                <div class="input-group">
                                    <label>ëª¸ë¬´ê²Œ (kg)</label>
                                    <input type="number" id="weightInput" placeholder="65" onkeyup="enableNextBtn('nextBtn0')">
                                </div>
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-primary" id="nextBtn0" disabled onclick="nextScreen('q1')">ë‹¤ìŒ</button>
                </div>

                <div id="q1" class="screen">
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 25%"></div>
                    </div>
                    <div class="question">
                        <div class="question-num">í•„ìˆ˜ ì§ˆë¬¸ 2/8</div>
                        <h3>ì–¸ì œ ë“œì‹¤ ì‹ì‚¬ì¸ê°€ìš”?</h3>
                        <div class="options">
                            <button class="option-btn" onclick="selectOption(this, 'mealTime', 'ì•„ì¹¨')">
                                ğŸŒ… ì•„ì¹¨<br>
                                <small>400-500kcal, ê°€ë²¼ìš´ ë‹¨ë°±ì§ˆ</small>
                            </button>
                            <button class="option-btn" onclick="selectOption(this, 'mealTime', 'ì ì‹¬')">
                                â˜€ï¸ ì ì‹¬<br>
                                <small>600-800kcal, ë“ ë“ í•œ ì—ë„ˆì§€</small>
                            </button>
                            <button class="option-btn" onclick="selectOption(this, 'mealTime', 'ì €ë…')">
                                ğŸŒ™ ì €ë…<br>
                                <small>500-700kcal, ì†Œí™” ì˜ë˜ëŠ” ì‹ì‚¬</small>
                            </button>
                        </div>
                    </div>
                    <button class="btn btn-primary" id="nextBtn1" disabled onclick="nextScreen('q2')">ë‹¤ìŒ</button>
                </div>

                <div id="q2" class="screen">
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 37.5%"></div>
                    </div>
                    <div class="question">
                        <div class="question-num">í•„ìˆ˜ ì§ˆë¬¸ 3/8</div>
                        <h3>ìš”ë¦¬ ì¤€ë¹„ ì‹œê°„ì€?</h3>
                        <div class="options">
                            <button class="option-btn" onclick="selectOption(this, 'cooking', 'ì „ìë ˆì¸ì§€')">
                                ğŸ“± ì „ìë ˆì¸ì§€ë§Œ<br>
                                <small>ë°ìš°ê¸°ë§Œ í•˜ë©´ OK</small>
                            </button>
                            <button class="option-btn" onclick="selectOption(this, 'cooking', '10ë¶„')">
                                âš¡ 10ë¶„ ì´ë‚´<br>
                                <small>ê°„ë‹¨ ì¡°ë¦¬</small>
                            </button>
                            <button class="option-btn" onclick="selectOption(this, 'cooking', '20ë¶„')">
                                ğŸ‘¨â€ğŸ³ 20ë¶„ ì´ë‚´<br>
                                <small>ê¸°ë³¸ ì¡°ë¦¬</small>
                            </button>
                            <button class="option-btn" onclick="selectOption(this, 'cooking', '30ë¶„')">
                                ğŸ”¥ 30ë¶„ ì´ìƒ<br>
                                <small>ë³¸ê²© ì¡°ë¦¬</small>
                            </button>
                        </div>
                    </div>
                    <button class="btn btn-primary" id="nextBtn2" disabled onclick="nextScreen('q3')">ë‹¤ìŒ</button>
                </div>

                <div id="q3" class="screen">
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 50%"></div>
                    </div>
                    <div class="question">
                        <div class="question-num">í•„ìˆ˜ ì§ˆë¬¸ 4/8</div>
                        <h3>í•œ ë¼ ì˜ˆì‚°ì€?</h3>
                        <div class="options">
                            <button class="option-btn" onclick="selectOption(this, 'budget', '3000')">
                                ğŸ’° 3,000ì› ì´í•˜
                            </button>
                            <button class="option-btn" onclick="selectOption(this, 'budget', '5000')">
                                ğŸ’µ 3,000ì› - 5,000ì›
                            </button>
                            <button class="option-btn" onclick="selectOption(this, 'budget', '8000')">
                                ğŸ’³ 5,000ì› - 8,000ì›
                            </button>
                            <button class="option-btn" onclick="selectOption(this, 'budget', '15000')">
                                ğŸ’ 8,000ì› ì´ìƒ
                            </button>
                        </div>
                    </div>
                    <button class="btn btn-primary" id="nextBtn3" disabled onclick="nextScreen('q4')">ë‹¤ìŒ</button>
                </div>

                <div id="q4" class="screen">
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 62.5%"></div>
                    </div>
                    <div class="question">
                        <div class="question-num">í•„ìˆ˜ ì§ˆë¬¸ 5/8</div>
                        <h3>í‰ì†Œ í™œë™ëŸ‰ì€ ì–´ë–¤ê°€ìš”?</h3>
                        <p>ì •í™•í•œ ì¹¼ë¡œë¦¬ ê³„ì‚°ì„ ìœ„í•´ í•„ìš”í•©ë‹ˆë‹¤</p>
                        <div class="options">
                            <button class="option-btn" onclick="selectOption(this, 'activity', 'ë‚®ìŒ')">
                                ğŸ›‹ï¸ ê±°ì˜ ì•ˆ ì›€ì§ì„<br>
                                <small>ì£¼ë¡œ ì•‰ì•„ì„œ ìƒí™œ</small>
                            </button>
                            <button class="option-btn" onclick="selectOption(this, 'activity', 'ë³´í†µ')">
                                ğŸš¶ ê°€ë³ê²Œ ì›€ì§ì„<br>
                                <small>ì£¼ 1-2íšŒ ê°€ë²¼ìš´ ìš´ë™</small>
                            </button>
                            <button class="option-btn" onclick="selectOption(this, 'activity', 'ë†’ìŒ')">
                                ğŸƒ ê·œì¹™ì ìœ¼ë¡œ ìš´ë™<br>
                                <small>ì£¼ 3-5íšŒ ìš´ë™</small>
                            </button>
                            <button class="option-btn" onclick="selectOption(this, 'activity', 'ë§¤ìš°ë†’ìŒ')">
                                ğŸ’ª ë§¤ìš° í™œë™ì <br>
                                <small>ê±°ì˜ ë§¤ì¼ ê²©ë ¬í•œ ìš´ë™</small>
                            </button>
                        </div>
                    </div>
                    <button class="btn btn-primary" id="nextBtn4" disabled onclick="nextScreen('q5')">ë‹¤ìŒ</button>
                </div>

                <div id="q5" class="screen">
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 75%"></div>
                    </div>
                    <div class="question">
                        <div class="question-num">í•„ìˆ˜ ì§ˆë¬¸ 6/8</div>
                        <h3>ì‹ë‹¨ì˜ ëª©í‘œëŠ” ë¬´ì—‡ì¸ê°€ìš”?</h3>
                        <p>ëª©í‘œì— ë§ëŠ” ë©”ë‰´ë¥¼ ì¶”ì²œí•´ë“œë¦½ë‹ˆë‹¤</p>
                        <div class="options">
                            <button class="option-btn" onclick="selectOption(this, 'goal', 'ë‹¤ì´ì–´íŠ¸')">
                                ğŸ“‰ ì²´ì¤‘ ê°ëŸ‰<br>
                                <small>ì €ì¹¼ë¡œë¦¬, ê³ ë‹¨ë°± ìœ„ì£¼</small>
                            </button>
                            <button class="option-btn" onclick="selectOption(this, 'goal', 'ê·¼ìœ¡ì¦ê°€')">
                                ğŸ’ª ê·¼ìœ¡ ì¦ê°€<br>
                                <small>ê³ ë‹¨ë°±, ì ë‹¹í•œ íƒ„ìˆ˜í™”ë¬¼</small>
                            </button>
                            <button class="option-btn" onclick="selectOption(this, 'goal', 'ê±´ê°•ìœ ì§€')">
                                ğŸŒ± ê±´ê°• ìœ ì§€<br>
                                <small>ê· í˜•ì¡íŒ ì˜ì–‘ì†Œ</small>
                            </button>
                            <button class="option-btn" onclick="selectOption(this, 'goal', 'ì²´ì¤‘ì¦ê°€')">
                                ğŸ“ˆ ì²´ì¤‘ ì¦ê°€<br>
                                <small>ê³ ì¹¼ë¡œë¦¬, ì˜ì–‘ ë°¸ëŸ°ìŠ¤</small>
                            </button>
                        </div>
                    </div>
                    <button class="btn btn-primary" id="nextBtn5" disabled onclick="nextScreen('q6')">ë‹¤ìŒ</button>
                </div>

                <div id="q6" class="screen">
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 87.5%"></div>
                    </div>
                    <div class="question">
                        <div class="question-num">í•„ìˆ˜ ì§ˆë¬¸ 7/8</div>
                        <h3>ì‹¬ê°í•œ ì•Œë ˆë¥´ê¸°ê°€ ìˆë‚˜ìš”?</h3>
                        <p>ì•ˆì „í•œ ë©”ë‰´ ì¶”ì²œì„ ìœ„í•´ í™•ì¸í•©ë‹ˆë‹¤</p>
                        <div class="input-group" style="margin-top: 20px;">
                            <input type="text" placeholder="ì˜ˆ: ë•…ì½©, ìš°ìœ , ê°‘ê°ë¥˜ ë“±" id="allergyInput">
                            <p style="font-size: 13px; color: #999; margin-top: 8px;">ì—†ìœ¼ë©´ ë¹„ì›Œë‘ì„¸ìš”</p>
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="nextScreen('q7')">ë‹¤ìŒ</button>
                </div>

                <div id="q7" class="screen">
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 100%"></div>
                    </div>
                    <div class="question">
                        <div class="question-num">í•„ìˆ˜ ì§ˆë¬¸ 8/8</div>
                        <h3>ëª» ë¨¹ê±°ë‚˜ ì‹«ì–´í•˜ëŠ” ì¬ë£ŒëŠ”?</h3>
                        <p>ì•Œë ˆë¥´ê¸°ëŠ” ì•„ë‹ˆì§€ë§Œ ì„ í˜¸í•˜ì§€ ì•ŠëŠ” ì¬ë£Œ</p>
                        <div class="input-group" style="margin-top: 20px;">
                            <input type="text" placeholder="ì˜ˆ: ìƒˆìš°, ë²„ì„¯, íŒŒ, ê³„ë€ ë“±" id="avoidInput">
                            <p style="font-size: 13px; color: #999; margin-top: 8px;">ì—†ìœ¼ë©´ ë¹„ì›Œë‘ì„¸ìš”</p>
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="nextScreen('loading')">ì¶”ì²œë°›ê¸°</button>
                </div>

                <div id="loading" class="screen">
                    <div class="loading">
                        <div class="loading-spinner"></div>
                        <h3>ì˜ì–‘ì„ ë¶„ì„í•˜ê³  ìˆì–´ìš”...</h3>
                        <p>ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš” âœ¨</p>
                    </div>
                </div>

                <div id="results" class="screen">
                    <div id="userAnalysis"></div>
                    <h3 style="margin-bottom: 20px; font-size: 22px; font-weight: 700; color: #1a1a1a;">ë‹¹ì‹ ì„ ìœ„í•œ ê±´ê°•í•œ ì‹ë‹¨</h3>
                    <div id="menuContainer"></div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 20px;">
                        <button class="btn btn-secondary" onclick="recommendAgain()">ğŸ”„ ë‹¤ë¥¸ ë©”ë‰´ ë³´ê¸°</button>
                        <button class="btn btn-primary" onclick="restart()">ğŸ  ì²˜ìŒìœ¼ë¡œ</button>
                    </div>
                    
                    <p style="text-align: center; margin-top: 16px; font-size: 13px; color: #999;">
                        ğŸ’¡ ë©”ë‰´ê°€ ë§ˆìŒì— ì•ˆ ë“œì‹œë‚˜ìš”? ë‹¤ë¥¸ ë©”ë‰´ ë³´ê¸°ë¥¼ ëˆŒëŸ¬ë³´ì„¸ìš”!
                    </p>
                </div>

                <div id="detail" class="screen">
                    <div id="detailContent"></div>
                    <div class="menu-actions">
                        <button class="action-btn" id="saveBtn" onclick="toggleSaveMenu()">ğŸ’¾ ì €ì¥</button>
                        <button class="action-btn" onclick="showShoppingList()">ğŸ›’ ì¥ë³´ê¸°</button>
                        <button class="action-btn" onclick="shareMenu()">ğŸ“¤ ê³µìœ </button>
                        <button class="action-btn" onclick="addToTracker()">ğŸ“Š ê¸°ë¡</button>
                    </div>
                    <button class="btn btn-primary" onclick="backToResults()">ë‹¤ë¥¸ ë©”ë‰´ ë³´ê¸°</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ì¥ë³´ê¸° ë¦¬ìŠ¤íŠ¸ ëª¨ë‹¬ -->
    <div class="modal" id="shoppingModal">
        <div class="modal-content">
            <h3>ğŸ›’ ì¥ë³´ê¸° ë¦¬ìŠ¤íŠ¸</h3>
            <div id="shoppingList"></div>
            <button class="btn btn-primary" style="margin-top: 20px;" onclick="closeModal()">ë‹«ê¸°</button>
        </div>
    </div>

    <script>
        // ì¹´ì¹´ì˜¤ SDK ì´ˆê¸°í™” (ì‹¤ì œ ì•± í‚¤ë¡œ ë³€ê²½ í•„ìš”)
        // Kakao.init('YOUR_APP_KEY');

        // ë©”ë‰´ ë°ì´í„°ë² ì´ìŠ¤ (ë™ì¼)
        const menuDatabase = [
            {
                id: 1,
                name: "ë‹­ê°€ìŠ´ì‚´ ìƒëŸ¬ë“œ",
                description: "ê³ ë‹¨ë°± ì €ì§€ë°© ë‹¤ì´ì–´íŠ¸ ìµœì ",
                time: 10,
                difficulty: "ì‰¬ì›€",
                calories: 280,
                protein: 35,
                carbs: 18,
                fat: 6,
                cost: 5500,
                healthScore: 95,
                tags: ["ê³ ë‹¨ë°±", "ë‹¤ì´ì–´íŠ¸", "ì±„ì†Œí’ë¶€"],
                reason: "ë‹¨ë°±ì§ˆ 35gìœ¼ë¡œ ê·¼ìœ¡ ìƒì„±ì— ìµœì ì´ë©°, ì €ì§€ë°©ìœ¼ë¡œ ì²´ì¤‘ ê´€ë¦¬ì— íš¨ê³¼ì ì…ë‹ˆë‹¤.",
                ingredients: ["ë‹­ê°€ìŠ´ì‚´ 150g", "ì–‘ìƒì¶”", "í† ë§ˆí† ", "ì˜¤ì´", "ì˜¬ë¦¬ë¸Œì˜¤ì¼", "ë ˆëª¬"],
                steps: [
                    "ë‹­ê°€ìŠ´ì‚´ì„ ì‚¶ê±°ë‚˜ êµ¬ì›Œì¤ë‹ˆë‹¤ (7ë¶„)",
                    "ì±„ì†Œë¥¼ ì”»ì–´ í•œì… í¬ê¸°ë¡œ ìë¦…ë‹ˆë‹¤",
                    "ì ‘ì‹œì— ì±„ì†Œë¥¼ ë‹´ê³  ë‹­ê°€ìŠ´ì‚´ì„ ì˜¬ë¦½ë‹ˆë‹¤",
                    "ì˜¬ë¦¬ë¸Œì˜¤ì¼ê³¼ ë ˆëª¬ì¦™ì„ ë¿Œë ¤ ì™„ì„±!"
                ],
                tips: ["ë‹­ê°€ìŠ´ì‚´ì€ ì „ìë ˆì¸ì§€ì— ìµí˜€ë„ OK", "ì˜¬ë¦¬ë¸Œì˜¤ì¼ì€ ì†ŒëŸ‰ë§Œ ì‚¬ìš©í•˜ì„¸ìš”"],
                videoSearch: "ë‹­ê°€ìŠ´ì‚´ìƒëŸ¬ë“œ+ë§Œë“¤ê¸°",
                benefits: ["ê³ ë‹¨ë°± 35gìœ¼ë¡œ ê·¼ìœ¡ ìƒì„±", "ì €ì§€ë°© ì €ì¹¼ë¡œë¦¬", "ê°ì¢… ë¹„íƒ€ë¯¼ í’ë¶€"]
            },
            {
                id: 2,
                name: "ì—°ì–´ ìƒëŸ¬ë“œ",
                description: "ì˜¤ë©”ê°€3 í’ë¶€í•œ í”„ë¦¬ë¯¸ì—„ ê±´ê°•ì‹",
                time: 12,
                difficulty: "ì‰¬ì›€",
                calories: 380,
                protein: 30,
                carbs: 22,
                fat: 18,
                cost: 9000,
                healthScore: 92,
                tags: ["ì˜¤ë©”ê°€3", "ê³ ë‹¨ë°±", "í•­ì—¼"],
                reason: "ì—°ì–´ì˜ ì˜¤ë©”ê°€3ê°€ ì‹¬í˜ˆê´€ ê±´ê°•ì— ì¢‹ê³ , ì–‘ì§ˆì˜ ë‹¨ë°±ì§ˆë¡œ ì˜ì–‘ ê· í˜•ì´ ì™„ë²½í•©ë‹ˆë‹¤.",
                ingredients: ["ì—°ì–´ 120g", "ì‹œê¸ˆì¹˜", "ì•„ë³´ì¹´ë„", "ê²¬ê³¼ë¥˜", "ë°œì‚¬ë¯¹ ë“œë ˆì‹±"],
                steps: [
                    "ì—°ì–´ë¥¼ íŒ¬ì— êµ¬ì›Œì¤ë‹ˆë‹¤ (5ë¶„)",
                    "ì‹œê¸ˆì¹˜ì™€ ì•„ë³´ì¹´ë„ë¥¼ ì¤€ë¹„í•©ë‹ˆë‹¤",
                    "ì ‘ì‹œì— ë‹´ê³  ê²¬ê³¼ë¥˜ë¥¼ ë¿Œë¦½ë‹ˆë‹¤",
                    "ë“œë ˆì‹±ì„ ê³ë“¤ì—¬ ì™„ì„±!"
                ],
                tips: ["ì—°ì–´ëŠ” ê²‰ì€ ë°”ì‚­, ì†ì€ ì´‰ì´‰í•˜ê²Œ", "ì•„ë³´ì¹´ë„ëŠ” ì‹ ì„ í•œ ê²ƒìœ¼ë¡œ"],
                videoSearch: "ì—°ì–´ìƒëŸ¬ë“œ+ë§Œë“¤ê¸°",
                benefits: ["ì˜¤ë©”ê°€3ë¡œ ì‹¬í˜ˆê´€ ê±´ê°•", "í•­ì—¼ íš¨ê³¼", "ë‘ë‡Œ ê±´ê°• ì¦ì§„"]
            },
            {
                id: 3,
                name: "ë‘ë¶€ìŠ¤í…Œì´í¬ ìƒëŸ¬ë“œ",
                description: "ì‹ë¬¼ì„± ë‹¨ë°±ì§ˆ í’ë¶€í•œ ë¹„ê±´ ë©”ë‰´",
                time: 15,
                difficulty: "ë³´í†µ",
                calories: 320,
                protein: 22,
                carbs: 28,
                fat: 12,
                cost: 4000,
                healthScore: 90,
                tags: ["ë¹„ê±´", "ì‹ë¬¼ì„±ë‹¨ë°±ì§ˆ", "ì €ì¹¼ë¡œë¦¬"],
                reason: "ë‘ë¶€ì˜ ì´ì†Œí”Œë¼ë³¸ì´ í˜¸ë¥´ëª¬ ê· í˜•ì„ ë•ê³ , ì™„ì „í•œ ì‹ë¬¼ì„± ë‹¨ë°±ì§ˆì„ ì œê³µí•©ë‹ˆë‹¤.",
                ingredients: ["ë‘ë¶€ 1ëª¨", "ë¸Œë¡œì½œë¦¬", "íŒŒí”„ë¦¬ì¹´", "ê°„ì¥", "ë§ˆëŠ˜", "ì˜¬ë¦¬ë¸Œì˜¤ì¼"],
                steps: [
                    "ë‘ë¶€ë¥¼ 1cm ë‘ê»˜ë¡œ ìë¦…ë‹ˆë‹¤",
                    "íŒ¬ì— ì˜¬ë¦¬ë¸Œì˜¤ì¼ì„ ë‘ë¥´ê³  ë‘ë¶€ë¥¼ êµ½ìŠµë‹ˆë‹¤ (5ë¶„)",
                    "ì±„ì†Œë¥¼ ë°ì¹˜ê±°ë‚˜ ë³¶ìŠµë‹ˆë‹¤ (3ë¶„)",
                    "ê°„ì¥ ì†ŒìŠ¤ë¥¼ ë¿Œë ¤ ì™„ì„±!"
                ],
                tips: ["ë‘ë¶€ëŠ” ë¬¼ê¸°ë¥¼ ê¼­ ì œê±°í•˜ì„¸ìš”", "ì„¼ ë¶ˆì—ì„œ ë¹ ë¥´ê²Œ êµ¬ì›Œì•¼ ë°”ì‚­í•´ìš”"],
                videoSearch: "ë‘ë¶€ìŠ¤í…Œì´í¬+ë§Œë“¤ê¸°",
                benefits: ["ì‹ë¬¼ì„± ë‹¨ë°±ì§ˆ 22g", "ì´ì†Œí”Œë¼ë³¸ìœ¼ë¡œ í˜¸ë¥´ëª¬ ê· í˜•", "ì €ì¹¼ë¡œë¦¬ ë¹„ê±´ì‹"]
            },
            {
                id: 4,
                name: "ì°¸ì¹˜ í†µê³¡ë¬¼ ìƒŒë“œìœ„ì¹˜",
                description: "í†µê³¡ë¬¼ë¡œ í¬ë§Œê° ë†’ì€ ê±´ê°• ê°„í¸ì‹",
                time: 8,
                difficulty: "ë§¤ìš°ì‰¬ì›€",
                calories: 420,
                protein: 28,
                carbs: 45,
                fat: 12,
                cost: 4500,
                healthScore: 88,
                tags: ["í†µê³¡ë¬¼", "ì˜¤ë©”ê°€3", "ê°„í¸ì‹"],
                reason: "ì°¸ì¹˜ì˜ EPA/DHAì™€ í†µê³¡ë¬¼ì˜ ì‹ì´ì„¬ìœ ë¡œ í¬ë§Œê°ì´ ì˜¤ë˜ ì§€ì†ë˜ë©° ì˜ì–‘ ê· í˜•ì´ ì¢‹ìŠµë‹ˆë‹¤.",
                ingredients: ["í†µê³¡ë¬¼ë¹µ", "ì°¸ì¹˜ìº”", "ì–‘ìƒì¶”", "í† ë§ˆí† ", "ìš”ê±°íŠ¸ ì†ŒìŠ¤"],
                steps: [
                    "ì°¸ì¹˜ì™€ ìš”ê±°íŠ¸ë¥¼ ì„ì–´ ì°¸ì¹˜ ì†ŒìŠ¤ë¥¼ ë§Œë“­ë‹ˆë‹¤",
                    "ë¹µì— ì±„ì†Œë¥¼ ê¹”ê³  ì°¸ì¹˜ ì†ŒìŠ¤ë¥¼ ì˜¬ë¦½ë‹ˆë‹¤",
                    "ë¹µì„ ë®ì–´ ì™„ì„±!"
                ],
                tips: ["ì°¸ì¹˜ ê¸°ë¦„ì€ ë¹¼ì£¼ì„¸ìš”", "í†µê³¡ë¬¼ë¹µì´ í•µì‹¬ì…ë‹ˆë‹¤"],
                videoSearch: "ì°¸ì¹˜ìƒŒë“œìœ„ì¹˜+ê±´ê°•í•˜ê²Œ+ë§Œë“¤ê¸°",
                benefits: ["í†µê³¡ë¬¼ë¡œ ì‹ì´ì„¬ìœ  í’ë¶€", "ì˜¤ë©”ê°€3 ì„­ì·¨", "ë¹ ë¥¸ ì¡°ë¦¬"]
            },
            {
                id: 5,
                name: "ê³„ë€ ì•„ë³´ì¹´ë„ í† ìŠ¤íŠ¸",
                description: "ì™„ì „ì‹í’ˆ ê³„ë€ê³¼ ê±´ê°•í•œ ì§€ë°©",
                time: 10,
                difficulty: "ì‰¬ì›€",
                calories: 380,
                protein: 18,
                carbs: 38,
                fat: 16,
                cost: 4000,
                healthScore: 87,
                tags: ["ì™„ì „ì‹í’ˆ", "ê±´ê°•í•œì§€ë°©", "ê°„í¸"],
                reason: "ê³„ë€ì˜ í•„ìˆ˜ ì•„ë¯¸ë…¸ì‚°ê³¼ ì•„ë³´ì¹´ë„ì˜ ë¶ˆí¬í™”ì§€ë°©ì‚°ìœ¼ë¡œ ì˜ì–‘ ê· í˜•ì´ ì™„ë²½í•©ë‹ˆë‹¤.",
                ingredients: ["ê³„ë€ 2ê°œ", "ì•„ë³´ì¹´ë„", "í†µê³¡ë¬¼ë¹µ", "ë°©ìš¸í† ë§ˆí† ", "ì˜¬ë¦¬ë¸Œì˜¤ì¼"],
                steps: [
                    "ê³„ë€ì„ ì‚¶ê±°ë‚˜ í”„ë¼ì´ë¡œ ë§Œë“­ë‹ˆë‹¤ (5ë¶„)",
                    "ì•„ë³´ì¹´ë„ë¥¼ ìœ¼ê¹¨ì¤ë‹ˆë‹¤",
                    "ë¹µì„ êµ¬ì›Œ ì•„ë³´ì¹´ë„ë¥¼ ë°”ë¦…ë‹ˆë‹¤",
                    "ê³„ë€ê³¼ í† ë§ˆí† ë¥¼ ì˜¬ë ¤ ì™„ì„±!"
                ],
                tips: ["ì•„ë³´ì¹´ë„ëŠ” ë ˆëª¬ì¦™ì„ ë„£ìœ¼ë©´ ìƒ‰ì´ ë³€í•˜ì§€ ì•Šì•„ìš”", "ê³„ë€ì€ ë°˜ìˆ™ì´ ë§›ìˆì–´ìš”"],
                videoSearch: "ì•„ë³´ì¹´ë„í† ìŠ¤íŠ¸+ë§Œë“¤ê¸°",
                benefits: ["í•„ìˆ˜ ì•„ë¯¸ë…¸ì‚° ì™„ë²½ ì„­ì·¨", "ê±´ê°•í•œ ë¶ˆí¬í™”ì§€ë°©", "ë¹„íƒ€ë¯¼ E í’ë¶€"]
            },
            {
                id: 6,
                name: "ì±„ì†Œ ë“¬ë¿ ë¹„ë¹”ë°¥",
                description: "5ê°€ì§€ ì±„ì†Œë¡œ ì˜ì–‘ ê· í˜• ì™„ë²½",
                time: 20,
                difficulty: "ë³´í†µ",
                calories: 480,
                protein: 15,
                carbs: 72,
                fat: 12,
                cost: 5000,
                healthScore: 85,
                tags: ["ì±„ì†Œí’ë¶€", "ì˜ì–‘ê· í˜•", "í•œì‹"],
                reason: "5ê°€ì§€ ì´ìƒì˜ ì±„ì†Œë¡œ ë¹„íƒ€ë¯¼ê³¼ ë¯¸ë„¤ë„ì„ ê³¨ê³ ë£¨ ì„­ì·¨í•˜ë©°, ë‚®ì€ ì§€ë°© í•¨ëŸ‰ìœ¼ë¡œ ê±´ê°•í•©ë‹ˆë‹¤.",
                ingredients: ["í˜„ë¯¸ë°¥", "ì‹œê¸ˆì¹˜", "ì½©ë‚˜ë¬¼", "ë‹¹ê·¼", "ë²„ì„¯", "ê³ ì¶”ì¥", "ì°¸ê¸°ë¦„"],
                steps: [
                    "ê° ë‚˜ë¬¼ì„ ë°ì¹˜ê±°ë‚˜ ë³¶ìŠµë‹ˆë‹¤ (10ë¶„)",
                    "í˜„ë¯¸ë°¥ ìœ„ì— ë‚˜ë¬¼ì„ ì˜ˆì˜ê²Œ ë°°ì¹˜í•©ë‹ˆë‹¤",
                    "ê³ ì¶”ì¥ê³¼ ì°¸ê¸°ë¦„ì„ ë„£ì–´ ë¹„ë²¼ ë¨¹ìŠµë‹ˆë‹¤!"
                ],
                tips: ["ë‚˜ë¬¼ì€ í•œ ë²ˆì— ë§ì´ ë§Œë“¤ì–´ ëƒ‰ì¥ ë³´ê´€í•˜ì„¸ìš”", "í˜„ë¯¸ë°¥ìœ¼ë¡œ ì‹ì´ì„¬ìœ  UP"],
                videoSearch: "ê±´ê°•í•œ+ë¹„ë¹”ë°¥+ë§Œë“¤ê¸°",
                benefits: ["5ê°€ì§€ ì±„ì†Œë¡œ ì˜ì–‘ ê· í˜•", "ë¹„íƒ€ë¯¼ê³¼ ë¯¸ë„¤ë„ í’ë¶€", "ì‹ì´ì„¬ìœ ë¡œ í¬ë§Œê°"]
            },
            {
                id: 7,
                name: "ë¸Œë¡œì½œë¦¬ ë‹­ê°€ìŠ´ì‚´ ë³¶ìŒ",
                description: "ê³ ë‹¨ë°± ì €ì§€ë°© ë‹¤ì´ì–´íŠ¸ ë©”ë‰´",
                time: 15,
                difficulty: "ì‰¬ì›€",
                calories: 320,
                protein: 32,
                carbs: 18,
                fat: 10,
                cost: 5000,
                healthScore: 90,
                tags: ["ê³ ë‹¨ë°±", "ì €ì§€ë°©", "ì±„ì†Œ"],
                reason: "ë¸Œë¡œì½œë¦¬ì˜ ì„¤í¬ë¼íŒì´ í•­ì•” íš¨ê³¼ê°€ ìˆê³ , ë‹­ê°€ìŠ´ì‚´ë¡œ ê³ ë‹¨ë°±ì„ ì„­ì·¨í•©ë‹ˆë‹¤.",
                ingredients: ["ë‹­ê°€ìŠ´ì‚´ 150g", "ë¸Œë¡œì½œë¦¬", "íŒŒí”„ë¦¬ì¹´", "ë§ˆëŠ˜", "ì˜¬ë¦¬ë¸Œì˜¤ì¼", "ê°„ì¥"],
                steps: [
                    "ë‹­ê°€ìŠ´ì‚´ì„ í•œì… í¬ê¸°ë¡œ ìë¦…ë‹ˆë‹¤",
                    "íŒ¬ì— ë§ˆëŠ˜ì„ ë³¶ê³  ë‹­ê°€ìŠ´ì‚´ì„ ë„£ìŠµë‹ˆë‹¤ (7ë¶„)",
                    "ë¸Œë¡œì½œë¦¬ì™€ íŒŒí”„ë¦¬ì¹´ë¥¼ ë„£ê³  ë³¶ìŠµë‹ˆë‹¤ (5ë¶„)",
                    "ê°„ì¥ìœ¼ë¡œ ê°„í•´ ì™„ì„±!"
                ],
                tips: ["ë¸Œë¡œì½œë¦¬ëŠ” ë„ˆë¬´ ìµíˆë©´ ì˜ì–‘ì†Œê°€ íŒŒê´´ë¼ìš”", "ì„¼ ë¶ˆì—ì„œ ë¹ ë¥´ê²Œ ë³¶ìœ¼ì„¸ìš”"],
                videoSearch: "ë¸Œë¡œì½œë¦¬+ë‹­ê°€ìŠ´ì‚´+ë³¶ìŒ",
                benefits: ["ì„¤í¬ë¼íŒì˜ í•­ì•” íš¨ê³¼", "ê³ ë‹¨ë°± 32g", "ì €ì§€ë°© ë‹¤ì´ì–´íŠ¸ì‹"]
            },
            {
                id: 8,
                name: "ì±„ì†Œ ë“¬ë¿ ë‘ë¶€ì°Œê°œ",
                description: "ì €ì¹¼ë¡œë¦¬ ê³ ì˜ì–‘ êµ­ë¬¼ ìš”ë¦¬",
                time: 20,
                difficulty: "ì‰¬ì›€",
                calories: 280,
                protein: 18,
                carbs: 22,
                fat: 10,
                cost: 4000,
                healthScore: 83,
                tags: ["ì €ì¹¼ë¡œë¦¬", "ë‹¨ë°±ì§ˆ", "ì±„ì†Œ"],
                reason: "ë‘ë¶€ì˜ ì–‘ì§ˆì˜ ë‹¨ë°±ì§ˆê³¼ ë‹¤ì–‘í•œ ì±„ì†Œë¡œ ì˜ì–‘ì„ ë³´ì¶©í•˜ë©° ì €ì¹¼ë¡œë¦¬ì…ë‹ˆë‹¤.",
                ingredients: ["ë‘ë¶€", "ì• í˜¸ë°•", "ì–‘íŒŒ", "ë²„ì„¯", "ëŒ€íŒŒ", "ëœì¥", "ë©¸ì¹˜ìœ¡ìˆ˜"],
                steps: [
                    "ë©¸ì¹˜ë¡œ ìœ¡ìˆ˜ë¥¼ ëƒ…ë‹ˆë‹¤ (5ë¶„)",
                    "ëœì¥ì„ í’€ê³  ì±„ì†Œë¥¼ ë„£ìŠµë‹ˆë‹¤ (10ë¶„)",
                    "ë‘ë¶€ë¥¼ ë„£ê³  í•œì†Œë” ë“ì…ë‹ˆë‹¤ (3ë¶„)"
                ],
                tips: ["ëœì¥ì€ ì²´ì— ê±°ë¥´ë©´ ë¶€ë“œëŸ¬ì›Œìš”", "ì±„ì†ŒëŠ” ë‹¤ì–‘í•˜ê²Œ ë„£ì„ìˆ˜ë¡ ì¢‹ì•„ìš”"],
                videoSearch: "ì±„ì†Œë‘ë¶€ì°Œê°œ+ë§Œë“¤ê¸°",
                benefits: ["ì €ì¹¼ë¡œë¦¬ 280kcal", "ë‹¤ì–‘í•œ ì±„ì†Œ ì„­ì·¨", "ë‹¨ë°±ì§ˆ 18g"]
            },
            {
                id: 9,
                name: "í˜„ë¯¸ ê¹€ì¹˜ë³¶ìŒë°¥",
                description: "í†µê³¡ë¬¼ë¡œ ì‹ì´ì„¬ìœ  í’ë¶€",
                time: 12,
                difficulty: "ì‰¬ì›€",
                calories: 450,
                protein: 12,
                carbs: 68,
                fat: 12,
                cost: 3000,
                healthScore: 78,
                tags: ["í†µê³¡ë¬¼", "ìœ ì‚°ê· ", "ê°„í¸"],
                reason: "í˜„ë¯¸ì˜ ì‹ì´ì„¬ìœ ì™€ ê¹€ì¹˜ì˜ ìœ ì‚°ê· ì´ ì¥ ê±´ê°•ì„ ê°œì„ í•˜ë©°, ë°±ë¯¸ë³´ë‹¤ ì˜ì–‘ê°€ê°€ ë†’ìŠµë‹ˆë‹¤.",
                ingredients: ["í˜„ë¯¸ë°¥", "ê¹€ì¹˜", "ì–‘íŒŒ", "ëŒ€íŒŒ", "ì°¸ê¸°ë¦„", "ê¹€ê°€ë£¨"],
                steps: [
                    "íŒ¬ì— ê¹€ì¹˜ë¥¼ ë¨¼ì € ë³¶ìŠµë‹ˆë‹¤ (3ë¶„)",
                    "í˜„ë¯¸ë°¥ì„ ë„£ê³  ë³¶ìŠµë‹ˆë‹¤ (7ë¶„)",
                    "ì°¸ê¸°ë¦„ê³¼ ê¹€ê°€ë£¨ë¥¼ ë„£ì–´ ì™„ì„±!"
                ],
                tips: ["í˜„ë¯¸ë°¥ì€ ë¬¼ì„ ì¡°ê¸ˆ ë¿Œë ¤ ë¶€ë“œëŸ½ê²Œ", "ê¹€ì¹˜ëŠ” ì‘ê²Œ ì°ì–´ ë³¶ìœ¼ì„¸ìš”"],
                videoSearch: "í˜„ë¯¸ë³¶ìŒë°¥+ë§Œë“¤ê¸°",
                benefits: ["ì‹ì´ì„¬ìœ ë¡œ ì¥ ê±´ê°•", "ìœ ì‚°ê·  ì„­ì·¨", "ë°±ë¯¸ë³´ë‹¤ ì˜ì–‘ê°€ ë†’ìŒ"]
            },
            {
                id: 10,
                name: "ê·€ë¦¬ ì•¼ì±„ ì£½",
                description: "ì†Œí™” ì˜ë˜ëŠ” ê±´ê°• í•œ ë¼",
                time: 15,
                difficulty: "ì‰¬ì›€",
                calories: 320,
                protein: 10,
                carbs: 52,
                fat: 8,
                cost: 3500,
                healthScore: 82,
                tags: ["í†µê³¡ë¬¼", "ì†Œí™”", "ì €ìê·¹"],
                reason: "ê·€ë¦¬ì˜ ë² íƒ€ê¸€ë£¨ì¹¸ì´ ì½œë ˆìŠ¤í…Œë¡¤ì„ ë‚®ì¶”ê³ , ì†Œí™”ê°€ ì˜ë˜ì–´ ì†ì´ í¸ì•ˆí•©ë‹ˆë‹¤.",
                ingredients: ["ê·€ë¦¬", "ë‹¹ê·¼", "ë¸Œë¡œì½œë¦¬", "ì–‘íŒŒ", "ì±„ì†Œìœ¡ìˆ˜"],
                steps: [
                    "ì±„ì†Œë¥¼ ì˜ê²Œ ì°ì–´ ì¤ë‹ˆë‹¤",
                    "ìœ¡ìˆ˜ì— ê·€ë¦¬ì™€ ì±„ì†Œë¥¼ ë„£ê³  ë“ì…ë‹ˆë‹¤ (12ë¶„)",
                    "ì†Œê¸ˆìœ¼ë¡œ ê°„í•´ ì™„ì„±!"
                ],
                tips: ["ê·€ë¦¬ëŠ” ë¯¸ë¦¬ ë¬¼ì— ë¶ˆë¦¬ë©´ ë” ë¹¨ë¦¬ ìµì–´ìš”", "ì±„ì†ŒëŠ” ë‹¤ì–‘í•˜ê²Œ ë„£ìœ¼ì„¸ìš”"],
                videoSearch: "ê·€ë¦¬ì£½+ë§Œë“¤ê¸°",
                benefits: ["ë² íƒ€ê¸€ë£¨ì¹¸ìœ¼ë¡œ ì½œë ˆìŠ¤í…Œë¡¤ ê°ì†Œ", "ì†Œí™” ì˜ë¨", "í¬ë§Œê° ì˜¤ë˜ ì§€ì†"]
            },
            {
                id: 11,
                name: "ë‹­ê°€ìŠ´ì‚´ ì±„ì†Œ ìˆ˜í”„",
                description: "ì„œì–‘ì‹ ê±´ê°• êµ­ë¬¼ ìš”ë¦¬",
                time: 25,
                difficulty: "ë³´í†µ",
                calories: 280,
                protein: 28,
                carbs: 22,
                fat: 8,
                cost: 5500,
                healthScore: 86,
                tags: ["ê³ ë‹¨ë°±", "ì €ì¹¼ë¡œë¦¬", "ì±„ì†Œ"],
                reason: "ë‹­ê°€ìŠ´ì‚´ì˜ ê³ ë‹¨ë°±ê³¼ ë‹¤ì–‘í•œ ì±„ì†Œì˜ ì˜ì–‘ì†Œê°€ ì¡°í™”ë¡­ê²Œ ì–´ìš°ëŸ¬ì§„ ê±´ê°•ì‹ì…ë‹ˆë‹¤.",
                ingredients: ["ë‹­ê°€ìŠ´ì‚´", "ë‹¹ê·¼", "ì–‘íŒŒ", "ì…€ëŸ¬ë¦¬", "ê°ì", "í† ë§ˆí† ", "ì›”ê³„ìˆ˜ì"],
                steps: [
                    "ë‹­ê°€ìŠ´ì‚´ì„ ì‚¶ì•„ ìœ¡ìˆ˜ë¥¼ ë§Œë“­ë‹ˆë‹¤ (10ë¶„)",
                    "ì±„ì†Œë¥¼ ì°ì–´ ìœ¡ìˆ˜ì— ë„£ìŠµë‹ˆë‹¤ (10ë¶„)",
                    "ì›”ê³„ìˆ˜ìê³¼ ì†Œê¸ˆìœ¼ë¡œ ê°„í•´ ì™„ì„±!"
                ],
                tips: ["ë‹­ê°€ìŠ´ì‚´ì€ í‘¹ ì‚¶ì•„ ìœ¡ìˆ˜ë¥¼ ì§„í•˜ê²Œ", "ì±„ì†ŒëŠ” í¬ê²Œ ì°ì–´ì•¼ ì‹ê°ì´ ì‚´ì•„ìš”"],
                videoSearch: "ë‹­ê°€ìŠ´ì‚´+ìˆ˜í”„+ë§Œë“¤ê¸°",
                benefits: ["ê³ ë‹¨ë°± 28g", "ì €ì¹¼ë¡œë¦¬ 280kcal", "ë‹¤ì–‘í•œ ì±„ì†Œ ì„­ì·¨"]
            },
            {
                id: 12,
                name: "ì°¸ì¹˜ ê¹€ì¹˜ì°Œê°œ",
                description: "ì–¼í°í•˜ê³  ê±´ê°•í•œ í•œì‹",
                time: 15,
                difficulty: "ì‰¬ì›€",
                calories: 320,
                protein: 25,
                carbs: 28,
                fat: 10,
                cost: 4000,
                healthScore: 80,
                tags: ["ì˜¤ë©”ê°€3", "ìœ ì‚°ê· ", "ë‹¨ë°±ì§ˆ"],
                reason: "ì°¸ì¹˜ì˜ EPA/DHAì™€ ê¹€ì¹˜ì˜ ìœ ì‚°ê· ì´ ë§Œë‚˜ ì˜ì–‘ê³¼ ë§›ì„ ë™ì‹œì— ì¡ì€ ë©”ë‰´ì…ë‹ˆë‹¤.",
                ingredients: ["ì°¸ì¹˜ìº”", "ê¹€ì¹˜", "ë‘ë¶€", "ëŒ€íŒŒ", "ê³ ì¶§ê°€ë£¨", "ëœì¥"],
                steps: [
                    "ëƒ„ë¹„ì— ê¹€ì¹˜ì™€ ì°¸ì¹˜ë¥¼ ë„£ê³  ë³¶ìŠµë‹ˆë‹¤ (3ë¶„)",
                    "ë¬¼ì„ ë„£ê³  ë“ì…ë‹ˆë‹¤ (5ë¶„)",
                    "ë‘ë¶€ì™€ ëŒ€íŒŒë¥¼ ë„£ê³  ë” ë“ì…ë‹ˆë‹¤ (5ë¶„)"
                ],
                tips: ["ì°¸ì¹˜ ê¸°ë¦„ë„ í•¨ê»˜ ë„£ìœ¼ë©´ ë” ê³ ì†Œí•´ìš”", "ë‘ë¶€ëŠ” ë§ˆì§€ë§‰ì— ë„£ìœ¼ì„¸ìš”"],
                videoSearch: "ì°¸ì¹˜ê¹€ì¹˜ì°Œê°œ+ë§Œë“¤ê¸°",
                benefits: ["ì˜¤ë©”ê°€3ë¡œ ë‘ë‡Œ ê±´ê°•", "ìœ ì‚°ê· ìœ¼ë¡œ ì¥ ê±´ê°•", "ë‹¨ë°±ì§ˆ 25g"]
            },
            {
                id: 13,
                name: "ê·¸ë¦­ ìš”ê±°íŠ¸ ê³¼ì¼ ë³¼",
                description: "ë‹¨ë°±ì§ˆ í’ë¶€í•œ ê±´ê°• ê°„ì‹",
                time: 5,
                difficulty: "ë§¤ìš°ì‰¬ì›€",
                calories: 280,
                protein: 18,
                carbs: 35,
                fat: 6,
                cost: 4500,
                healthScore: 85,
                tags: ["ë‹¨ë°±ì§ˆ", "ê³¼ì¼", "ì´ˆê°„ë‹¨"],
                reason: "ê·¸ë¦­ ìš”ê±°íŠ¸ì˜ í”„ë¡œë°”ì´ì˜¤í‹±ìŠ¤ì™€ ê³¼ì¼ì˜ ë¹„íƒ€ë¯¼ìœ¼ë¡œ ì¥ ê±´ê°•ê³¼ ë©´ì—­ë ¥ì„ ë†’ì…ë‹ˆë‹¤.",
                ingredients: ["ê·¸ë¦­ ìš”ê±°íŠ¸", "ë¸”ë£¨ë² ë¦¬", "ë°”ë‚˜ë‚˜", "ê¿€", "ê·¸ë˜ë†€ë¼"],
                steps: [
                    "ê·¸ë¦­ ìš”ê±°íŠ¸ë¥¼ ë³¼ì— ë‹´ìŠµë‹ˆë‹¤",
                    "ê³¼ì¼ì„ ì”»ì–´ ì˜¬ë¦½ë‹ˆë‹¤",
                    "ê·¸ë˜ë†€ë¼ì™€ ê¿€ì„ ë¿Œë ¤ ì™„ì„±!"
                ],
                tips: ["ê·¸ë¦­ ìš”ê±°íŠ¸ëŠ” ì¼ë°˜ ìš”ê±°íŠ¸ë³´ë‹¤ ë‹¨ë°±ì§ˆì´ 2ë°°", "ê³„ì ˆ ê³¼ì¼ì„ í™œìš©í•˜ì„¸ìš”"],
                videoSearch: "ê·¸ë¦­ìš”ê±°íŠ¸+ë³¼+ë§Œë“¤ê¸°",
                benefits: ["í”„ë¡œë°”ì´ì˜¤í‹±ìŠ¤ë¡œ ì¥ ê±´ê°•", "ë‹¨ë°±ì§ˆ 18g", "ê°ì¢… ë¹„íƒ€ë¯¼ ì„­ì·¨"]
            },
            {
                id: 14,
                name: "ì—°ì–´ ì£¼ë¨¹ë°¥",
                description: "ì˜¤ë©”ê°€3 í’ë¶€í•œ ê°„í¸ì‹",
                time: 10,
                difficulty: "ì‰¬ì›€",
                calories: 380,
                protein: 22,
                carbs: 48,
                fat: 12,
                cost: 7000,
                healthScore: 82,
                tags: ["ì˜¤ë©”ê°€3", "ê°„í¸", "í•œë¼"],
                reason: "ì—°ì–´ì˜ ì˜¤ë©”ê°€3ì™€ ë°¥ì˜ íƒ„ìˆ˜í™”ë¬¼ì´ ê· í˜•ì¡íŒ í•œ ë¼ ì‹ì‚¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤.",
                ingredients: ["í˜„ë¯¸ë°¥", "êµ¬ìš´ ì—°ì–´", "ê¹€", "ì°¸ê¸°ë¦„", "ê¹¨ì†Œê¸ˆ"],
                steps: [
                    "ì—°ì–´ë¥¼ êµ¬ì›Œ ì˜ê²Œ ë¶€ìˆ©ë‹ˆë‹¤ (5ë¶„)",
                    "ë°¥ì— ì—°ì–´ì™€ ì°¸ê¸°ë¦„ì„ ì„ìŠµë‹ˆë‹¤",
                    "ì£¼ë¨¹ë°¥ì„ ë§Œë“¤ê³  ê¹€ì„ ê°ì•„ ì™„ì„±!"
                ],
                tips: ["ì—°ì–´ëŠ” ë¯¸ë¦¬ êµ¬ì›Œë‘ë©´ í¸í•´ìš”", "í˜„ë¯¸ë°¥ìœ¼ë¡œ ì˜ì–‘ UP"],
                videoSearch: "ì—°ì–´+ì£¼ë¨¹ë°¥+ë§Œë“¤ê¸°",
                benefits: ["ì˜¤ë©”ê°€3 í’ë¶€", "ê°„í¸í•œ í•œ ë¼", "ì˜ì–‘ ê· í˜•"]
            },
            {
                id: 15,
                name: "ì±„ì†Œ ê³„ë€ ìŠ¤í¬ë¨ë¸”",
                description: "ë‹¨ë°±ì§ˆê³¼ ì±„ì†Œë¥¼ í•œ ë²ˆì—",
                time: 8,
                difficulty: "ì‰¬ì›€",
                calories: 280,
                protein: 18,
                carbs: 12,
                fat: 16,
                cost: 3500,
                healthScore: 82,
                tags: ["ë‹¨ë°±ì§ˆ", "ì±„ì†Œ", "ê°„í¸"],
                reason: "ê³„ë€ì˜ ì™„ì „ ë‹¨ë°±ì§ˆê³¼ ë‹¤ì–‘í•œ ì±„ì†Œë¡œ ì•„ì¹¨ ì‹ì‚¬ì— ìµœì ì…ë‹ˆë‹¤.",
                ingredients: ["ê³„ë€ 3ê°œ", "íŒŒí”„ë¦¬ì¹´", "ì–‘íŒŒ", "ì‹œê¸ˆì¹˜", "ì˜¬ë¦¬ë¸Œì˜¤ì¼"],
                steps: [
                    "ì±„ì†Œë¥¼ ì˜ê²Œ ì°ì–´ ì¤ë‹ˆë‹¤",
                    "íŒ¬ì— ì˜¬ë¦¬ë¸Œì˜¤ì¼ì„ ë‘ë¥´ê³  ì±„ì†Œë¥¼ ë³¶ìŠµë‹ˆë‹¤ (3ë¶„)",
                    "ê³„ë€ì„ í’€ì–´ ë„£ê³  ìŠ¤í¬ë¨ë¸”ì„ ë§Œë“­ë‹ˆë‹¤ (3ë¶„)"
                ],
                tips: ["ì•½í•œ ë¶ˆì—ì„œ ì²œì²œíˆ ì €ì–´ê°€ë©° ìµíˆì„¸ìš”", "ì±„ì†ŒëŠ” ë‹¤ì–‘í•˜ê²Œ ë„£ì„ìˆ˜ë¡ ì¢‹ì•„ìš”"],
                videoSearch: "ì±„ì†Œ+ìŠ¤í¬ë¨ë¸”+ë§Œë“¤ê¸°",
                benefits: ["ì™„ì „ ë‹¨ë°±ì§ˆ 18g", "ë‹¤ì–‘í•œ ì±„ì†Œ ì„­ì·¨", "ë¹ ë¥¸ ì¡°ë¦¬"]
            }
        ];

        let selectedData = {
            gender: '',
            height: '',
            weight: '',
            bmi: 0,
            recommendCalories: 0,
            mealTime: '',
            cooking: '',
            budget: '',
            avoid: '',
            activity: '',
            goal: '',
            allergy: ''
        };

        let currentMenu = null;
        let filteredMenus = [];
        let currentTab = 'home';

        // LocalStorage í‚¤
        const STORAGE_KEYS = {
            savedMenus: 'babssim_saved_menus',
            recentMenus: 'babssim_recent_menus',
            mealHistory: 'babssim_meal_history',
            userProfile: 'babssim_user_profile'
        };

        // ì´ˆê¸°í™”
        window.onload = function() {
            loadUserData();
            updateStats();
            loadDailyRecommendation();
        };

        function loadUserData() {
            const profile = localStorage.getItem(STORAGE_KEYS.userProfile);
            if (profile) {
                selectedData = JSON.parse(profile);
            }
        }

        function saveUserData() {
            localStorage.setItem(STORAGE_KEYS.userProfile, JSON.stringify(selectedData));
        }

        function updateStats() {
            // ì €ì¥í•œ ë©”ë‰´ ìˆ˜
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEYS.savedMenus) || '[]');
            document.getElementById('savedMenuCount').textContent = saved.length;
            document.getElementById('savedCount').textContent = saved.length > 0 ? `(${saved.length})` : '';
            
            // ì´ë²ˆ ì£¼ ê¸°ë¡
            const history = JSON.parse(localStorage.getItem(STORAGE_KEYS.mealHistory) || '[]');
            const weekAgo = new Date();
            weekAgo.setDate(weekAgo.getDate() - 7);
            const weekHistory = history.filter(h => new Date(h.date) > weekAgo);
            
            document.getElementById('weeklyCount').textContent = weekHistory.length;
            
            // ì˜¤ëŠ˜ ì¹¼ë¡œë¦¬
            const today = new Date().toDateString();
            const todayMeals = history.filter(h => new Date(h.date).toDateString() === today);
            const todayCalories = todayMeals.reduce((sum, m) => sum + m.calories, 0);
            document.getElementById('todayCalories').textContent = todayCalories;
            
            // í†µê³„ í˜ì´ì§€ ì—…ë°ì´íŠ¸
            updateTrackerStats(weekHistory, saved);
        }

        function updateTrackerStats(weekHistory, saved) {
            // BMI ì •ë³´
            if (selectedData.bmi) {
                let bmiStatus = '';
                if (selectedData.bmi < 18.5) bmiStatus = 'ì €ì²´ì¤‘';
                else if (selectedData.bmi < 23) bmiStatus = 'ì •ìƒ';
                else if (selectedData.bmi < 25) bmiStatus = 'ê³¼ì²´ì¤‘';
                else bmiStatus = 'ë¹„ë§Œ';
                
                document.getElementById('trackerBMI').innerHTML = `
                    <strong>ë‹¹ì‹ ì˜ ê±´ê°• ì •ë³´</strong>
                    <div style="margin-top: 10px; font-size: 15px; line-height: 1.8;">
                        BMI: <strong>${selectedData.bmi}</strong> (${bmiStatus})<br>
                        ê¶Œì¥ ì¹¼ë¡œë¦¬: <strong>${selectedData.recommendCalories || 2000}kcal</strong>
                    </div>
                `;
            }
            
            // ì£¼ê°„ í†µê³„
            const weekCalories = weekHistory.reduce((sum, m) => sum + m.calories, 0);
            const weekProtein = weekHistory.length > 0 
                ? Math.round(weekHistory.reduce((sum, m) => sum + m.protein, 0) / weekHistory.length)
                : 0;
            const weekHealthScore = weekHistory.length > 0
                ? Math.round(weekHistory.reduce((sum, m) => sum + m.healthScore, 0) / weekHistory.length)
                : 0;
                
            document.getElementById('weekTotalCalories').textContent = weekCalories;
            document.getElementById('weekAvgProtein').textContent = weekProtein + 'g';
            document.getElementById('weekMealCount').textContent = weekHistory.length;
            document.getElementById('weekHealthScore').textContent = weekHealthScore;
            
            // ì „ì²´ ê¸°ë¡
            const allHistory = JSON.parse(localStorage.getItem(STORAGE_KEYS.mealHistory) || '[]');
            const avgHealth = allHistory.length > 0
                ? Math.round(allHistory.reduce((sum, m) => sum + m.healthScore, 0) / allHistory.length)
                : 0;
                
            document.getElementById('totalRecommended').textContent = allHistory.length + 'ê°œ';
            document.getElementById('totalSaved').textContent = saved.length + 'ê°œ';
            document.getElementById('avgHealthScore').textContent = avgHealth + 'ì ';
        }

        function loadDailyRecommendation() {
            // ì˜¤ëŠ˜ ë‚ ì§œ ê¸°ë°˜ìœ¼ë¡œ ë©”ë‰´ ì„ íƒ (ë§¤ì¼ ë°”ë€œ)
            const today = new Date().toDateString();
            const hash = today.split('').reduce((a, b) => {
                a = ((a << 5) - a) + b.charCodeAt(0);
                return a & a;
            }, 0);
            const index = Math.abs(hash) % menuDatabase.length;
            const dailyMenu = menuDatabase[index];
            
            document.getElementById('dailyMenuName').textContent = dailyMenu.name + ' - ' + dailyMenu.description;
        }

        function showDailyRecommendation() {
            const today = new Date().toDateString();
            const hash = today.split('').reduce((a, b) => {
                a = ((a << 5) - a) + b.charCodeAt(0);
                return a & a;
            }, 0);
            const index = Math.abs(hash) % menuDatabase.length;
            const dailyMenu = menuDatabase[index];
            
            currentMenu = dailyMenu;
            showMenuDetail(dailyMenu.id);
        }

        function switchTab(tab) {
            currentTab = tab;
            
            // íƒ­ ë²„íŠ¼ í™œì„±í™”
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // í™”ë©´ ì „í™˜
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            
            if (tab === 'home') {
                document.getElementById('home').classList.add('active');
                loadRecentMenus();
            } else if (tab === 'saved') {
                document.getElementById('saved').classList.add('active');
                loadSavedMenus();
            } else if (tab === 'tracker') {
                document.getElementById('tracker').classList.add('active');
                updateStats();
            }
        }

        function loadRecentMenus() {
            const recent = JSON.parse(localStorage.getItem(STORAGE_KEYS.recentMenus) || '[]');
            const container = document.getElementById('recentMenus');
            
            if (recent.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">ğŸ“­</div>
                        <h3>ìµœê·¼ ë³¸ ë©”ë‰´ê°€ ì—†ì–´ìš”</h3>
                        <p>ë©”ë‰´ë¥¼ ì¶”ì²œë°›ì•„ë³´ì„¸ìš”!</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = recent.slice(0, 5).map(menuId => {
                const menu = menuDatabase.find(m => m.id === menuId);
                if (!menu) return '';
                
                return `
                    <div class="menu-card" onclick="showMenuDetail(${menu.id})">
                        <h4>${menu.name}</h4>
                        <p style="font-size: 14px; color: #666;">${menu.description}</p>
                    </div>
                `;
            }).join('');
        }

        function loadSavedMenus() {
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEYS.savedMenus) || '[]');
            const container = document.getElementById('savedMenusContainer');
            
            if (saved.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">ğŸ’¾</div>
                        <h3>ì €ì¥í•œ ë©”ë‰´ê°€ ì—†ì–´ìš”</h3>
                        <p>ë§ˆìŒì— ë“œëŠ” ë©”ë‰´ë¥¼ ì €ì¥í•´ë³´ì„¸ìš”!</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = saved.map(menuId => {
                const menu = menuDatabase.find(m => m.id === menuId);
                if (!menu) return '';
                
                return `
                    <div class="menu-card" onclick="showMenuDetail(${menu.id})">
                        <h4>
                            ${menu.name}
                            <span class="health-score">ğŸŒŸ ${menu.healthScore}ì </span>
                        </h4>
                        <p style="font-size: 14px; color: #666; margin: 8px 0;">${menu.description}</p>
                        <div class="menu-meta">
                            <div class="meta-item">â±ï¸ ${menu.time}ë¶„</div>
                            <div class="meta-item">ğŸ”¥ ${menu.calories}kcal</div>
                            <div class="meta-item">ğŸ’ª ${menu.protein}g</div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function showMenuDetail(menuId) {
            const menu = menuDatabase.find(m => m.id === menuId);
            if (!menu) return;
            
            currentMenu = menu;
            
            // ìµœê·¼ ë³¸ ë©”ë‰´ì— ì¶”ê°€
            let recent = JSON.parse(localStorage.getItem(STORAGE_KEYS.recentMenus) || '[]');
            recent = [menuId, ...recent.filter(id => id !== menuId)].slice(0, 10);
            localStorage.setItem(STORAGE_KEYS.recentMenus, JSON.stringify(recent));
            
            showDetail(menuId);
        }

        function toggleSaveMenu() {
            if (!currentMenu) return;
            
            let saved = JSON.parse(localStorage.getItem(STORAGE_KEYS.savedMenus) || '[]');
            const btn = document.getElementById('saveBtn');
            
            if (saved.includes(currentMenu.id)) {
                saved = saved.filter(id => id !== currentMenu.id);
                btn.classList.remove('active');
                btn.textContent = 'ğŸ’¾ ì €ì¥';
            } else {
                saved.push(currentMenu.id);
                btn.classList.add('active');
                btn.textContent = 'âœ… ì €ì¥ë¨';
            }
            
            localStorage.setItem(STORAGE_KEYS.savedMenus, JSON.stringify(saved));
            updateStats();
        }

        function showShoppingList() {
            if (!currentMenu) return;
            
            const modal = document.getElementById('shoppingModal');
            const listDiv = document.getElementById('shoppingList');
            
            listDiv.innerHTML = `
                <div class="detail-section">
                    <h4>ğŸ›’ ${currentMenu.name}</h4>
                    <p style="color: #667eea; font-weight: bold; margin-bottom: 16px;">ì˜ˆìƒ ë¹„ìš©: ${currentMenu.cost.toLocaleString()}ì›</p>
                    <ul class="ingredient-list">
                        ${currentMenu.ingredients.map(ing => `<li>${ing}</li>`).join('')}
                    </ul>
                    <button class="btn btn-secondary" style="margin-top: 16px;" onclick="copyShoppingList()">ğŸ“‹ ë¦¬ìŠ¤íŠ¸ ë³µì‚¬</button>
                </div>
            `;
            
            modal.classList.add('active');
        }

        function copyShoppingList() {
            if (!currentMenu) return;
            
            const text = `[${currentMenu.name} ì¥ë³´ê¸° ë¦¬ìŠ¤íŠ¸]\n\n` +
                currentMenu.ingredients.join('\n') +
                `\n\nì˜ˆìƒ ë¹„ìš©: ${currentMenu.cost.toLocaleString()}ì›`;
            
            navigator.clipboard.writeText(text).then(() => {
                alert('âœ… ì¥ë³´ê¸° ë¦¬ìŠ¤íŠ¸ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            });
        }

        function shareMenu() {
            if (!currentMenu) return;
            
            const url = window.location.href;
            const text = `ğŸš ë°¥ì‹¬ ì¶”ì²œ ë©”ë‰´\n\n${currentMenu.name}\n${currentMenu.description}\n\nê±´ê°• ì ìˆ˜: ${currentMenu.healthScore}ì \nì¹¼ë¡œë¦¬: ${currentMenu.calories}kcal\n\n${url}`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'ë°¥ì‹¬ - ' + currentMenu.name,
                    text: text
                });
            } else {
                // ì¹´ì¹´ì˜¤í†¡ ê³µìœ  (ì‹¤ì œ êµ¬í˜„ ì‹œ Kakao.init í•„ìš”)
                navigator.clipboard.writeText(text).then(() => {
                    alert('âœ… ë©”ë‰´ ì •ë³´ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!\nì¹´ì¹´ì˜¤í†¡ ë“±ì— ê³µìœ í•´ë³´ì„¸ìš”.');
                });
            }
        }

        function addToTracker() {
            if (!currentMenu) return;
            
            const history = JSON.parse(localStorage.getItem(STORAGE_KEYS.mealHistory) || '[]');
            history.push({
                menuId: currentMenu.id,
                name: currentMenu.name,
                calories: currentMenu.calories,
                protein: currentMenu.protein,
                healthScore: currentMenu.healthScore,
                date: new Date().toISOString()
            });
            
            localStorage.setItem(STORAGE_KEYS.mealHistory, JSON.stringify(history));
            updateStats();
            
            alert('âœ… ì‹ë‹¨ ê¸°ë¡ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }

        function closeModal() {
            document.querySelectorAll('.modal').forEach(m => m.classList.remove('active'));
        }

        function startQuestions() {
            document.getElementById('tabNav').style.display = 'none';
            switchScreen('q0');
        }

        function quickStart() {
            document.getElementById('tabNav').style.display = 'none';
            switchScreen('quickMode');
        }

        function selectQuickOption(btn, type, value) {
            btn.parentElement.querySelectorAll('.option-btn').forEach(b => {
                b.classList.remove('selected');
            });
            
            btn.classList.add('selected');
            selectedData[type] = value;
            
            if (type === 'cooking') {
                document.getElementById('quickBtn1').disabled = false;
            } else if (type === 'budget') {
                document.getElementById('quickBtn2').disabled = false;
            }
        }

        function nextQuick(screenId) {
            switchScreen(screenId);
        }

        function quickRecommend() {
            selectedData.avoid = document.getElementById('quickAvoidInput').value.toLowerCase();
            
            // ë¹ ë¥¸ ì¶”ì²œìš© ê¸°ë³¸ê°’ ì„¤ì •
            selectedData.gender = 'male';
            selectedData.height = 170;
            selectedData.weight = 65;
            selectedData.bmi = calculateBMI(170, 65);
            selectedData.mealTime = 'ì ì‹¬';
            selectedData.activity = 'ë³´í†µ';
            selectedData.goal = 'ê±´ê°•ìœ ì§€';
            selectedData.allergy = '';
            selectedData.recommendCalories = getRecommendCalories('male', 65, 170, 'ì ì‹¬', 'ë³´í†µ', 'ê±´ê°•ìœ ì§€');
            
            saveUserData();
            
            // ë¹ ë¥¸ ì¬ì¶”ì²œ ë²„íŠ¼ í‘œì‹œ
            document.getElementById('quickRecommendBtn').style.display = 'block';
            
            switchScreen('loading');
            setTimeout(() => {
                filterAndDisplayMenus();
            }, 2000);
        }

        function quickRecommendAgain() {
            switchScreen('loading');
            setTimeout(() => {
                filterAndDisplayMenus();
            }, 1500);
        }

        function recommendAgain() {
            // í˜„ì¬ í•„í„° ì¡°ê±´ìœ¼ë¡œ ë‹¤ë¥¸ ë©”ë‰´ ì¶”ì²œ
            switchScreen('loading');
            setTimeout(() => {
                filterAndDisplayMenus();
            }, 1500);
        }

        function switchScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
        }

        function enableNextBtn(btnId) {
            const gender = document.getElementById('genderSelect')?.value || '';
            const height = document.getElementById('heightInput')?.value || '';
            const weight = document.getElementById('weightInput')?.value || '';
            
            if (btnId === 'nextBtn0') {
                const btn = document.getElementById(btnId);
                if (gender && height && weight) {
                    btn.disabled = false;
                } else {
                    btn.disabled = true;
                }
            }
        }

        function selectOption(btn, type, value) {
            btn.parentElement.querySelectorAll('.option-btn').forEach(b => {
                b.classList.remove('selected');
            });
            
            btn.classList.add('selected');
            selectedData[type] = value;
            
            if (type === 'mealTime') {
                document.getElementById('nextBtn1').disabled = false;
            } else if (type === 'cooking') {
                document.getElementById('nextBtn2').disabled = false;
            } else if (type === 'budget') {
                document.getElementById('nextBtn3').disabled = false;
            } else if (type === 'activity') {
                document.getElementById('nextBtn4').disabled = false;
            } else if (type === 'goal') {
                document.getElementById('nextBtn5').disabled = false;
            }
        }

        function calculateBMI(height, weight) {
            const heightM = height / 100;
            return (weight / (heightM * heightM)).toFixed(1);
        }

        function getRecommendCalories(gender, weight, height, mealTime, activity, goal) {
            // BMR ê³„ì‚° (ê¸°ì´ˆëŒ€ì‚¬ëŸ‰)
            let bmr = gender === 'male' 
                ? 66 + (13.7 * weight) + (5 * height) - (6.8 * 25)
                : 655 + (9.6 * weight) + (1.8 * height) - (4.7 * 25);
            
            // í™œë™ëŸ‰ì— ë”°ë¥¸ ê³„ìˆ˜
            const activityFactors = {
                'ë‚®ìŒ': 1.2,
                'ë³´í†µ': 1.375,
                'ë†’ìŒ': 1.55,
                'ë§¤ìš°ë†’ìŒ': 1.725
            };
            
            let tdee = bmr * (activityFactors[activity] || 1.375);
            
            // ëª©í‘œì— ë”°ë¥¸ ì¹¼ë¡œë¦¬ ì¡°ì •
            if (goal === 'ë‹¤ì´ì–´íŠ¸') {
                tdee = tdee * 0.85; // 15% ê°ì†Œ
            } else if (goal === 'ì²´ì¤‘ì¦ê°€') {
                tdee = tdee * 1.15; // 15% ì¦ê°€
            } else if (goal === 'ê·¼ìœ¡ì¦ê°€') {
                tdee = tdee * 1.10; // 10% ì¦ê°€
            }
            
            // ì‹ì‚¬ ì‹œê°„ë³„ ë¹„ìœ¨
            const mealRatios = {
                'ì•„ì¹¨': 0.25,
                'ì ì‹¬': 0.35,
                'ì €ë…': 0.30
            };
            
            return Math.round(tdee * (mealRatios[mealTime] || 0.30));
        }

        function nextScreen(screenId) {
            if (screenId === 'q1') {
                selectedData.gender = document.getElementById('genderSelect').value;
                selectedData.height = parseFloat(document.getElementById('heightInput').value);
                selectedData.weight = parseFloat(document.getElementById('weightInput').value);
                selectedData.bmi = calculateBMI(selectedData.height, selectedData.weight);
                saveUserData();
                switchScreen('q1');
            } else if (screenId === 'q7') {
                selectedData.allergy = document.getElementById('allergyInput').value.toLowerCase();
                saveUserData();
                switchScreen('q7');
            } else if (screenId === 'loading') {
                selectedData.avoid = document.getElementById('avoidInput').value.toLowerCase();
                selectedData.recommendCalories = getRecommendCalories(
                    selectedData.gender,
                    selectedData.weight,
                    selectedData.height,
                    selectedData.mealTime,
                    selectedData.activity,
                    selectedData.goal
                );
                saveUserData();
                switchScreen('loading');
                setTimeout(() => {
                    filterAndDisplayMenus();
                }, 2500);
            } else {
                switchScreen(screenId);
            }
        }

        function filterAndDisplayMenus() {
            const cookingTimeMap = {
                'ì „ìë ˆì¸ì§€': 5,
                '10ë¶„': 10,
                '20ë¶„': 20,
                '30ë¶„': 30
            };

            const maxTime = cookingTimeMap[selectedData.cooking];
            const maxBudget = parseInt(selectedData.budget);
            const avoidList = selectedData.avoid.split(',').map(item => item.trim()).filter(item => item);
            const allergyList = selectedData.allergy.split(',').map(item => item.trim()).filter(item => item);
            const targetCalories = selectedData.recommendCalories;

            filteredMenus = menuDatabase.filter(menu => {
                if (menu.time > maxTime) return false;
                if (menu.cost > maxBudget) return false;
                
                // ì•Œë ˆë¥´ê¸° í•„í„° (ë” ì—„ê²©í•˜ê²Œ)
                for (let allergy of allergyList) {
                    for (let ingredient of menu.ingredients) {
                        if (ingredient.includes(allergy) || allergy.includes(ingredient)) {
                            return false;
                        }
                    }
                    if (menu.name.includes(allergy)) {
                        return false;
                    }
                }
                
                // ê¸°í”¼ ì¬ë£Œ í•„í„°
                for (let avoid of avoidList) {
                    for (let ingredient of menu.ingredients) {
                        if (ingredient.includes(avoid) || avoid.includes(ingredient)) {
                            return false;
                        }
                    }
                    if (menu.name.includes(avoid)) {
                        return false;
                    }
                }
                
                return true;
            });

            filteredMenus.sort((a, b) => b.healthScore - a.healthScore);

            filteredMenus.forEach(menu => {
                const calorieDiff = Math.abs(menu.calories - targetCalories);
                menu.calorieScore = 100 - (calorieDiff / 10);
            });

            filteredMenus.sort((a, b) => {
                const scoreA = (a.healthScore * 0.7) + (a.calorieScore * 0.3);
                const scoreB = (b.healthScore * 0.7) + (b.calorieScore * 0.3);
                return scoreB - scoreA;
            });

            const topMenus = filteredMenus.slice(0, Math.min(8, filteredMenus.length));
            const selectedMenus = [];
            
            for (let i = 0; i < Math.min(3, topMenus.length); i++) {
                const randomIndex = Math.floor(Math.random() * topMenus.length);
                selectedMenus.push(topMenus[randomIndex]);
                topMenus.splice(randomIndex, 1);
            }

            displayMenus(selectedMenus);
            switchScreen('results');
            
            // íƒ­ ë„¤ë¹„ê²Œì´ì…˜ í‘œì‹œ
            document.getElementById('tabNav').style.display = 'flex';
        }

        function displayMenus(menus) {
            const analysisDiv = document.getElementById('userAnalysis');
            const container = document.getElementById('menuContainer');
            
            let bmiStatus = '';
            let bmiColor = '';
            if (selectedData.bmi < 18.5) {
                bmiStatus = 'ì €ì²´ì¤‘';
                bmiColor = '#FF9800';
            } else if (selectedData.bmi < 23) {
                bmiStatus = 'ì •ìƒ';
                bmiColor = '#4CAF50';
            } else if (selectedData.bmi < 25) {
                bmiStatus = 'ê³¼ì²´ì¤‘';
                bmiColor = '#FFA726';
            } else {
                bmiStatus = 'ë¹„ë§Œ';
                bmiColor = '#FF7043';
            }

            // ì˜ì–‘ ë¶€ì¡± ë¶„ì„ + ëª©í‘œ ë¶„ì„
            let nutritionWarning = '';
            if (selectedData.bmi < 18.5) {
                nutritionWarning = '<div class="nutrition-alert"><strong>âš ï¸ ì˜ì–‘ ë¶€ì¡± ê²½ê³ </strong><p>ì²´ì¤‘ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. ê³ ë‹¨ë°±, ê³ ì¹¼ë¡œë¦¬ ë©”ë‰´ë¥¼ ìš°ì„  ì¶”ì²œë“œë¦½ë‹ˆë‹¤.</p></div>';
            } else if (selectedData.bmi > 25) {
                nutritionWarning = '<div class="nutrition-alert"><strong>ğŸ’ª ê±´ê°• ê°œì„  ê¶Œì¥</strong><p>ì €ì¹¼ë¡œë¦¬, ê³ ë‹¨ë°± ë©”ë‰´ë¡œ ì²´ì¤‘ ê´€ë¦¬ë¥¼ ì‹œì‘í•´ë³´ì„¸ìš”!</p></div>';
            }
            
            // ëª©í‘œì— ë”°ë¥¸ ë©”ì‹œì§€
            let goalMessage = '';
            if (selectedData.goal === 'ë‹¤ì´ì–´íŠ¸') {
                goalMessage = '<div class="nutrition-alert"><strong>ğŸ¯ ë‹¤ì´ì–´íŠ¸ ëª¨ë“œ</strong><p>ì €ì¹¼ë¡œë¦¬, ê³ ë‹¨ë°± ë©”ë‰´ë¥¼ ìš°ì„  ì¶”ì²œí•©ë‹ˆë‹¤. ëª©í‘œ ì¹¼ë¡œë¦¬ëŠ” TDEEì˜ 85%ì…ë‹ˆë‹¤.</p></div>';
            } else if (selectedData.goal === 'ê·¼ìœ¡ì¦ê°€') {
                goalMessage = '<div class="nutrition-alert"><strong>ğŸ’ª ê·¼ìœ¡ ì¦ê°€ ëª¨ë“œ</strong><p>ê³ ë‹¨ë°±, ì ë‹¹í•œ íƒ„ìˆ˜í™”ë¬¼ ë©”ë‰´ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤. ë‹¨ë°±ì§ˆ ì„­ì·¨ì— ì§‘ì¤‘í•˜ì„¸ìš”!</p></div>';
            } else if (selectedData.goal === 'ì²´ì¤‘ì¦ê°€') {
                goalMessage = '<div class="nutrition-alert"><strong>ğŸ“ˆ ì²´ì¤‘ ì¦ê°€ ëª¨ë“œ</strong><p>ê³ ì¹¼ë¡œë¦¬, ì˜ì–‘ ë°¸ëŸ°ìŠ¤ê°€ ì¢‹ì€ ë©”ë‰´ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤.</p></div>';
            } else if (selectedData.goal === 'ê±´ê°•ìœ ì§€') {
                goalMessage = '<div class="nutrition-alert"><strong>ğŸŒ± ê±´ê°• ìœ ì§€ ëª¨ë“œ</strong><p>ê· í˜•ì¡íŒ ì˜ì–‘ì†Œë¡œ ê±´ê°•í•œ ì‹ë‹¨ì„ ìœ ì§€í•˜ì„¸ìš”!</p></div>';
            }

            analysisDiv.innerHTML = `
                <div class="bmi-info">
                    <strong>ë‹¹ì‹ ì˜ ê±´ê°• ë¶„ì„</strong>
                    <div style="margin-top: 10px; font-size: 15px; line-height: 1.8;">
                        BMI: <span style="color: ${bmiColor}; font-weight: bold;">${selectedData.bmi}</span> (${bmiStatus})<br>
                        í™œë™ëŸ‰: <strong>${selectedData.activity}</strong><br>
                        ëª©í‘œ: <strong>${selectedData.goal}</strong><br>
                        ê¶Œì¥ ì¹¼ë¡œë¦¬: <strong>${selectedData.recommendCalories}kcal</strong>
                    </div>
                </div>
                ${nutritionWarning}
                ${goalMessage}
            `;
            
            if (menus.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 60px 20px; color: #666;">
                        <h3 style="margin-bottom: 15px; font-size: 20px;">ğŸ˜¢ ì¡°ê±´ì— ë§ëŠ” ë©”ë‰´ê°€ ì—†ì–´ìš”</h3>
                        <p style="font-size: 15px;">ì˜ˆì‚°ì„ ì¡°ê¸ˆ ì˜¬ë¦¬ê±°ë‚˜ ì¡°ë¦¬ ì‹œê°„ì„ ëŠ˜ë ¤ë³´ì„¸ìš”</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = menus.map(menu => {
                let scoreClass = 'health-score';
                let scoreEmoji = 'ğŸŒŸ';
                if (menu.healthScore >= 85) {
                    scoreClass = 'health-score';
                    scoreEmoji = 'ğŸŒŸ';
                } else if (menu.healthScore >= 75) {
                    scoreClass = 'health-score medium';
                    scoreEmoji = 'â­';
                } else {
                    scoreClass = 'health-score low';
                    scoreEmoji = 'âœ¨';
                }

                const calorieDiff = menu.calories - selectedData.recommendCalories;
                let calorieNote = '';
                if (Math.abs(calorieDiff) < 50) {
                    calorieNote = 'âœ… ëª©í‘œ ì¹¼ë¡œë¦¬ì— ë”±!';
                } else if (calorieDiff > 0) {
                    calorieNote = `âš ï¸ ${calorieDiff}kcal ë†’ì•„ìš”`;
                } else {
                    calorieNote = `ğŸ‘ ${Math.abs(calorieDiff)}kcal ë‚®ì•„ìš”`;
                }

                return `
                <div class="menu-card">
                    <div onclick="showMenuDetail(${menu.id})">
                        <h4>
                            ${menu.name}
                            <span class="${scoreClass}">${scoreEmoji} ${menu.healthScore}ì </span>
                        </h4>
                        <div class="recommendation-reason">
                            ğŸ’¡ <strong>ì¶”ì²œ ì´ìœ :</strong> ${menu.reason}
                        </div>
                        <p style="color: #4CAF50; font-weight: bold; font-size: 14px; margin-bottom: 10px;">${calorieNote}</p>
                        <div class="menu-meta">
                            <div class="meta-item">â±ï¸ ${menu.time}ë¶„</div>
                            <div class="meta-item">â­ ${menu.difficulty}</div>
                            <div class="meta-item">ğŸ”¥ ${menu.calories}kcal</div>
                            <div class="meta-item">ğŸ’ª ${menu.protein}g</div>
                        </div>
                        <div style="margin-top: 12px;">
                            ${menu.tags.map(tag => `<span class="tag">#${tag}</span>`).join('')}
                        </div>
                    </div>
                </div>
            `}).join('');
        }

        function showDetail(menuId) {
            const menu = menuDatabase.find(m => m.id === menuId);
            if (!menu) return;

            currentMenu = menu;
            
            // ì €ì¥ ë²„íŠ¼ ìƒíƒœ í™•ì¸
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEYS.savedMenus) || '[]');
            const isSaved = saved.includes(menu.id);
            
            const detailHTML = `
                <h3 style="margin-bottom: 12px; font-size: 24px; font-weight: 700;">${menu.name}</h3>
                <span class="health-score">ğŸŒŸ ê±´ê°• ì ìˆ˜: ${menu.healthScore}ì </span>
                
                <div class="detail-section" style="margin-top: 25px;">
                    <h4>ğŸ›’ í•„ìš”í•œ ì¬ë£Œ</h4>
                    <ul class="ingredient-list">
                        ${menu.ingredients.map(ing => `<li>${ing}</li>`).join('')}
                    </ul>
                    <p style="color: #667eea; margin-top: 12px; font-weight: bold; font-size: 15px;">ì˜ˆìƒ ë¹„ìš©: ì•½ ${menu.cost.toLocaleString()}ì›</p>
                </div>

                <div class="detail-section">
                    <h4>ğŸ‘¨â€ğŸ³ ì¡°ë¦¬ ìˆœì„œ</h4>
                    <ol class="step-list">
                        ${menu.steps.map(step => `<li>${step}</li>`).join('')}
                    </ol>
                </div>

                <div class="detail-section">
                    <h4>ğŸ¥ ì¡°ë¦¬ë²• ì˜ìƒ</h4>
                    <a href="https://www.youtube.com/results?search_query=${menu.videoSearch}" target="_blank" class="video-link">
                        <span>â–¶ï¸</span>
                        <span>ìœ íŠœë¸Œì—ì„œ ì¡°ë¦¬ë²• ë³´ê¸°</span>
                    </a>
                </div>

                <div class="detail-section">
                    <h4>ğŸ“Š ì˜ì–‘ ì •ë³´</h4>
                    <div class="nutrition-grid">
                        <div class="nutrition-item">
                            <div class="value">${menu.calories}</div>
                            <div class="label">ì¹¼ë¡œë¦¬</div>
                        </div>
                        <div class="nutrition-item">
                            <div class="value">${menu.protein}g</div>
                            <div class="label">ë‹¨ë°±ì§ˆ</div>
                        </div>
                        <div class="nutrition-item">
                            <div class="value">${menu.carbs}g</div>
                            <div class="label">íƒ„ìˆ˜í™”ë¬¼</div>
                        </div>
                        <div class="nutrition-item">
                            <div class="value">${menu.fat}g</div>
                            <div class="label">ì§€ë°©</div>
                        </div>
                    </div>
                </div>

                <div class="detail-section">
                    <h4>ğŸ’š ì˜ì–‘í•™ì  ì¥ì </h4>
                    <ul class="ingredient-list">
                        ${menu.benefits.map(benefit => `<li>${benefit}</li>`).join('')}
                    </ul>
                </div>

                <div class="detail-section">
                    <h4>ğŸ’¡ ì¡°ë¦¬ íŒ</h4>
                    <ul class="ingredient-list">
                        ${menu.tips.map(tip => `<li>${tip}</li>`).join('')}
                    </ul>
                </div>
            `;

            document.getElementById('detailContent').innerHTML = detailHTML;
            
            // ì €ì¥ ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
            const saveBtn = document.getElementById('saveBtn');
            if (isSaved) {
                saveBtn.classList.add('active');
                saveBtn.textContent = 'âœ… ì €ì¥ë¨';
            } else {
                saveBtn.classList.remove('active');
                saveBtn.textContent = 'ğŸ’¾ ì €ì¥';
            }
            
            switchScreen('detail');
        }

        function backToResults() {
            switchScreen('results');
        }

        function restart() {
            document.getElementById('tabNav').style.display = 'flex';
            switchTab('home');
            updateStats();
        }
    </script>
</body>
</html>
